var Yi=Object.defineProperty;var $i=(i,e,t)=>e in i?Yi(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var Oe=(i,e,t)=>($i(i,typeof e!="symbol"?e+"":e,t),t);import{y as zt,s as Ae,p as St,q as kt,f as E,i as v,r as g,k as q,l as d,n as ze,e as m,t as A,b as O,d as p,h as U,j as B,x as de,$ as xi,m as j,B as Wt,a0 as el,C as x,D as Vt,z as Ze,W as ve,a1 as Tt,X as Ft,S as ue,U as ge,_ as Ht,a2 as tl,a3 as il,v as ji,Z as Lt,c as Kt,u as Gt,g as Jt,a as Xt}from"./scheduler.DK9WmFTb.js";import{a as le,t as ne,S as Ue,i as We,b as we,d as Me,m as Ee,g as ut,c as ft,e as Le,f as ae}from"./index.DcNqul0Z.js";import{B as ll,u as xe,r as mt,i as ci,j as Zt,m as Yt,w as $t,n as Pt,o as pt,h as wt,p as hi,q as nl,S as sl,t as al,v as rl,x as ol,s as ul,y as fl,c as dl,A as cl,z as vi,D as gi,E as _i,F as bi,G as mi,f as Qt,g as Hi,a as At,H as pi,I as Dt}from"./lang.Bi2J_BWb.js";import{g as Nt,u as hl,j as Ct,d as Ki,C as Rt,A as Xe,e as Si,r as vl}from"./db.BShgSK99.js";import{B as gl}from"./bst.CZJClfsK.js";const _l=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function He(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function xt(i,e){i.d(1),e.delete(i.key)}function Rn(i,e){le(i,1,1,()=>{e.delete(i.key)})}function ei(i,e,t,l,n,r,o,f,s,a,u,h){let c=i.length,_=r.length,b=c;const w={};for(;b--;)w[i[b].key]=b;const T=[],M=new Map,k=new Map,V=[];for(b=_;b--;){const z=h(n,r,b),W=t(z);let P=o.get(W);P?l&&V.push(()=>P.p(z,e)):(P=a(W,z),P.c()),M.set(W,T[b]=P),W in w&&k.set(W,Math.abs(b-w[W]))}const F=new Set,R=new Set;function y(z){ne(z,1),z.m(f,u),o.set(z.key,z),u=z.first,_--}for(;c&&_;){const z=T[_-1],W=i[c-1],P=z.key,N=W.key;z===W?(u=z.first,c--,_--):M.has(N)?!o.has(P)||F.has(P)?y(z):R.has(N)?c--:k.get(P)>k.get(N)?(R.add(P),y(z)):(F.add(N),c--):(s(W,o),c--)}for(;c--;){const z=i[c];M.has(z.key)||s(z,o)}for(;_;)y(T[_-1]);return zt(V),T}function Mt(i,e){const t={},l={},n={$$scope:1};let r=i.length;for(;r--;){const o=i[r],f=e[r];if(f){for(const s in o)s in f||(l[s]=1);for(const s in f)n[s]||(t[s]=f[s],n[s]=1);i[r]=f}else for(const s in o)n[s]=1}for(const o in l)o in t||(t[o]=void 0);return t}function yt(i){return typeof i=="object"&&i!==null?i:{}}class Ot extends ll{constructor(e,t,l){super(e,t,l,"user")}static getTypeId(){return xe}getType(){return xe}storable(){return{type:xe,id:this.id,name:this.name,lang:this.lang,words:this.words}}static async fromStorable(e,t,l=fetch){return new Ot(e.words,e.id,e.name)}static newStorable(e,t,l){return{type:xe,id:e,name:t,words:l,lang:"user"}}}async function bl(i,e,t,l=fetch){const n=await Nt(e,hl,t);if(n===void 0)throw new Error(`Could not find lesson ${t}`);return je.deserializeAndBuild(t,n,i,e,l)}class It{constructor(e,t,l){Oe(this,"classId");Oe(this,"nameFn");Oe(this,"storableFn");Oe(this,"wrapperBuilder");this.classId=e,this.nameFn=t.bind(this),this.storableFn=l}name(e){return this.nameFn(e)}fromStorable(e,t,l=fetch){return this.storableFn(e,t,l)}}class Ut extends It{constructor(e,t,l,n){super(e,t,l),this.wrapperBuilder=n}}class Et{constructor(e){Oe(this,"base");Oe(this,"words");Oe(this,"pos");this.pos=0,this.words=ci(e.words),this.base=e}static getTypeId(){return mt}[Symbol.iterator](){return this}next(){return this.pos>=this.words.length&&(this.pos=0,this.words=ci(this.words)),{done:!1,value:this.words[this.pos++]}}storable(){return{type:mt,base:this.base.storable()}}static async fromStorable(e,t,l=fetch){const n=await je.deserialize(e.base,t,l);return new Et(n)}static newStorable(e){return{type:mt,base:e}}toJSON(){return JSON.stringify(this.storable())}getChild(){return this.base}getType(){return mt}baseLesson(){return this.base}batch(e){return Zt(this,e)}overrides(){return{...Yt(this.base.overrides(),Pt)}}static async fromForm(e,t,l,n){const r=e.overrides().random;return r==="disabled"||r===!1||e.getType()!==$t&&e.getType()!==xe?e:r===!0||n.random===!0||n.random==="inherit"&&t.random===!0?new Et(e.baseLesson()):e}handleInput(e,t,l,n){return this.base.handleInput(e,t,l,n)}handleKeydown(e,t,l,n){return this.base.handleKeydown(e,t,l,n)}}class st{constructor(e,t){Oe(this,"lesson");Oe(this,"num");Oe(this,"max");this.lesson=e,this.max=t,this.num=0}static getTypeId(){return pt}[Symbol.iterator](){return this}next(){return this.num+=1,this.num>this.max?{done:!0,value:void 0}:this.lesson.next()}storable(){return{type:pt,max:this.max,lesson:this.lesson.storable()}}toJSON(){return JSON.stringify(this.storable())}static async fromStorable(e,t,l=fetch){const n=await je.deserialize(e.lesson,t,l);return new st(n,e.max)}static newStorable(e,t){return{type:pt,max:t,lesson:e}}getChild(){return this.lesson}getType(){return pt}baseLesson(){return this.lesson.baseLesson()}batch(e){return Zt(this,e)}overrides(){return Yt(this.lesson.overrides(),Pt)}static async fromForm(e,t,l,n){const r=e.overrides().until;return r==="disabled"||r===null?e:typeof r=="number"?new st(e,r):typeof n.until=="number"?new st(e,n.until):n.until==="inherit"&&typeof t.until=="number"?new st(e,t.until):e}handleInput(e,t,l,n){return this.lesson.handleInput(e,t,l,n)}handleKeydown(e,t,l,n){return this.lesson.handleKeydown(e,t,l,n)}}function ml(i){const e=[];return nl(i).forEach(l=>e.push([l,1])),e}class $e{constructor(e,t){Oe(this,"base");Oe(this,"pos");Oe(this,"typoMap");Oe(this,"wordProbTree");this.pos=0,this.base=e,this.typoMap=new Map(t),this.wordProbTree=$e.newWordProbTree(this.base.words,t)}static getTypeId(){return wt}static async loadTypos(e,t){const l=await Nt(t,Ct,e.id);return l===void 0?ml(e.words):l.typos}saveTypos(e,t){const l=[];for(let n of this.typoMap.entries())l.push(n);return Ki(e,Ct,{lesson_id:t,typos:l})}static newWordProbTree(e,t){const l=$e.charProb(t),n=new Map(l),r=[];return e.forEach(o=>{let f=0;for(const s of[...o])f+=n.get(s)??0;r.push([o,f])}),gl.newProportionedNormalized(r)}static charProb(e,t=2){const l=[],r=1/(e.reduce((s,[,a])=>s+a,0)*t),o=1-1/t,f=1/(e.length*o+1/t);return e.forEach(([s,a])=>l.push([s,(a*r+o)*f])),l}[Symbol.iterator](){return this}next(){return this.pos>=this.base.words.length?{done:!0,value:void 0}:(this.pos+=1,{done:!1,value:this.wordProbTree.search(Math.random())})}toJSON(){return JSON.stringify(this.storable())}storable(){return{type:wt,base:this.base.storable()}}static async fromStorable(e,t,l=fetch){const n=await je.deserialize(e.base,t,l),r=await $e.loadTypos(n.baseLesson(),t);return new $e(n,r)}getChild(){}getType(){return wt}getName(e){return this.baseLesson().name}baseLesson(){return this.base.baseLesson()}batch(e){return Zt(this,e)}overrides(){return{...Yt(this.base.overrides(),Pt),random:!0,checkMode:Rt.Char}}static async fromForm(e,t,l,n){const r=e.overrides().adaptive;if(e.getType()!==$t&&e.getType()!==xe)return e;if(r===!0||r==="enabled"&&(n.adaptive===!0||n.adaptive==="inherit"&&t.adaptive===!0)){const o=await $e.loadTypos(e,l);return new $e(e.baseLesson(),o)}return e}processInput(e,t,l,n){return e.inputType==="deleteContentBackward"&&t.backspace===!0?(e.preventDefault(),l.addBackspace(t.backspace)?Xe.Refresh:Xe.None):e.inputType!=="insertText"?(e.preventDefault(),Xe.None):this.processChars(e,t,l,n)}processChars(e,t,l,n){var o;if(!e.data)return Xe.None;let r=Xe.None;for(const f of[...e.data]){const s=t.caseSensitive?t.remap.get(f):(o=t.remap.get(f))==null?void 0:o.toLocaleLowerCase();if(s===" "){const a=hi({key:" ",preventDefault:()=>{}},t,l,n);r|=a,a===Xe.None&&(l.addChar(s),r|=Xe.CharAdded|Xe.Refresh)}else if(s!==void 0){if(l.input+=s,l.inputChars=[...l.input],l.state=l.mapState(),l.inputChars.length<=l.wordChars.length){const a=l.inputChars.length-1,u=l.inputChars[a];if(u!==l.wordChars[a]){const h=this.typoMap.get(u);this.typoMap.set(u,h!==void 0?h+1:1),l.uncorrectedErrors+=1}}else s!==void 0&&(l.uncorrectedErrors+=1);r|=Xe.CharAdded|Xe.Refresh}}return r!=Xe.None&&(l.addKeystroke(),e.preventDefault()),r}handleInput(e,t,l,n){return this.processInput(e,t,l,n)}handleKeydown(e,t,l,n){return hi(e,t,l,n)}}const Gi=[new It($t,i=>i.classStockWords,sl.fromStorable),new It(xe,i=>i.classUserWords,Ot.fromStorable),new It(al,i=>i.classRandomChars,rl.fromStorable),new Ut(wt,i=>i.classAdaptive,$e.fromStorable,$e.fromForm),new Ut(mt,i=>i.classRandomize,Et.fromStorable,Et.fromForm),new Ut(pt,i=>i.classUntil,st.fromStorable,st.fromForm)],pl=Gi.filter(i=>i.wrapperBuilder!==void 0);async function jt(i,e,t,l){let n=i;for(const r of pl)n=await r.wrapperBuilder(n,e,t,l);return n}function Ji(i){return Gi.find(e=>e.classId===i)}class je{static async default(e,t,l=fetch){const n=ol(e.lang.lang);return je.load(n,e,t,l)}static async deserialize(e,t,l=fetch){const n=Ji(e.type);if(n===void 0)throw new Error(`Attempted to load lesson with invalid type: '${e.type}'`);return n.fromStorable(e,t,l)}static async deserializeAndBuild(e,t,l,n,r=fetch){const o=await je.getLessonOptions(e,n),f=l.lessonOptions(o),s=await je.deserialize(t,n,r);return jt(s,l,n,f)}static async load(e,t,l,n=fetch){if(e.startsWith("user_"))return bl(t,l,e,n);const r=ul.get(e);if(r===void 0)throw new Error(`Could not find lesson '${e}'`);return je.deserializeAndBuild(e,r,t,l,n)}static async loadLast(e,t,l=fetch){return e.lastLesson===null?je.default(e,t,fetch):je.load(e.lastLesson,e,t,l)}static async getLessonOptions(e,t){const l=await Nt(t,Si,e);return l===void 0?new Object:l}static saveLessonOptions(e,t,l){return Ki(l,Si,{lesson_id:e,...t})}static saveLast(e,t,l){t.lastLesson=e.baseLesson().id,t.saveUserConfig(l)}static printWrappers(e){let t,l=e;do t=l,console.log(`wrapper: ${t.getType()}`),l=t.getChild();while(l!==void 0)}static hasClass(e,t){let l,n=e;do{if(l=n,l.getType()===t)return!0;n=l.getChild()}while(n!==void 0);return!1}static getClass(e,t){let l,n=e;do{if(l=n,l.getType()===t)return l;n=l.getChild()}while(n!==void 0);return null}static listClasses(e){let t=[],l,n=e;do l=n,t.push(l),n=l.getChild();while(n!==void 0);return t}}function jn(i,e){const t=document.createElement("div");t.classList.add("spacer"),t.title=i.space,e.appendChild(t)}function Hn(i,e){const t=document.createElement("div");t.classList.add("missed-space","spacer"),t.title=i.missedSpace,e.appendChild(t)}function Sl(i){const e=i.target;e&&(e.style.height="auto",e.style.height=e.scrollHeight+"px")}function kl(i){let e,t,l;return{c(){e=St("svg"),t=St("line"),l=St("line"),this.h()},l(n){e=kt(n,"svg",{xmlns:!0,viewBox:!0});var r=E(e);t=kt(r,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),E(t).forEach(v),l=kt(r,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),E(l).forEach(v),r.forEach(v),this.h()},h(){g(t,"x1","418.593"),g(t,"y1","417.658"),g(t,"x2","84.526"),g(t,"y2","83.591"),g(l,"x1","83.227"),g(l,"y1","418.684"),g(l,"x2","418.32"),g(l,"y2","83.591"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"viewBox","0 0 500 500")},m(n,r){q(n,e,r),d(e,t),d(e,l)},p:ze,i:ze,o:ze,d(n){n&&v(e)}}}class wl extends Ue{constructor(e){super(),We(this,e,null,kl,Ae,{})}}function El(i){let e,t,l,n,r;const o=[i[3]];function f(h){i[20](h)}function s(h){i[21](h)}var a=i[5];function u(h,c){let _={};for(let b=0;b<o.length;b+=1)_=Tt(_,o[b]);return c!==void 0&&c&8&&(_=Tt(_,Mt(o,[yt(h[3])]))),h[0]!==void 0&&(_.config=h[0]),h[1]!==void 0&&(_.db=h[1]),{props:_}}return a&&(e=Vt(a,u(i)),x.push(()=>ae(e,"config",f)),x.push(()=>ae(e,"db",s))),{c(){e&&we(e.$$.fragment),n=Ze()},l(h){e&&Me(e.$$.fragment,h),n=Ze()},m(h,c){e&&Ee(e,h,c),q(h,n,c),r=!0},p(h,c){if(c&32&&a!==(a=h[5])){if(e){ut();const _=e;le(_.$$.fragment,1,0,()=>{Le(_,1)}),ft()}a?(e=Vt(a,u(h,c)),x.push(()=>ae(e,"config",f)),x.push(()=>ae(e,"db",s)),we(e.$$.fragment),ne(e.$$.fragment,1),Ee(e,n.parentNode,n)):e=null}else if(a){const _=c&8?Mt(o,[yt(h[3])]):{};!t&&c&1&&(t=!0,_.config=h[0],ve(()=>t=!1)),!l&&c&2&&(l=!0,_.db=h[1],ve(()=>l=!1)),e.$set(_)}},i(h){r||(e&&ne(e.$$.fragment,h),r=!0)},o(h){e&&le(e.$$.fragment,h),r=!1},d(h){h&&v(n),e&&Le(e,h)}}}function Ll(i){let e,t,l,n,r,o;const f=[i[3]];function s(_){i[17](_)}function a(_){i[18](_)}function u(_){i[19](_)}var h=i[5];function c(_,b){let w={};for(let T=0;T<f.length;T+=1)w=Tt(w,f[T]);return b!==void 0&&b&8&&(w=Tt(w,Mt(f,[yt(_[3])]))),_[12]!==void 0&&(w.getData=_[12]),_[0]!==void 0&&(w.config=_[0]),_[1]!==void 0&&(w.db=_[1]),{props:w}}return h&&(e=Vt(h,c(i)),x.push(()=>ae(e,"getData",s)),x.push(()=>ae(e,"config",a)),x.push(()=>ae(e,"db",u))),{c(){e&&we(e.$$.fragment),r=Ze()},l(_){e&&Me(e.$$.fragment,_),r=Ze()},m(_,b){e&&Ee(e,_,b),q(_,r,b),o=!0},p(_,b){if(b&32&&h!==(h=_[5])){if(e){ut();const w=e;le(w.$$.fragment,1,0,()=>{Le(w,1)}),ft()}h?(e=Vt(h,c(_,b)),x.push(()=>ae(e,"getData",s)),x.push(()=>ae(e,"config",a)),x.push(()=>ae(e,"db",u)),we(e.$$.fragment),ne(e.$$.fragment,1),Ee(e,r.parentNode,r)):e=null}else if(h){const w=b&8?Mt(f,[yt(_[3])]):{};!t&&b&4096&&(t=!0,w.getData=_[12],ve(()=>t=!1)),!l&&b&1&&(l=!0,w.config=_[0],ve(()=>l=!1)),!n&&b&2&&(n=!0,w.db=_[1],ve(()=>n=!1)),e.$set(w)}},i(_){o||(e&&ne(e.$$.fragment,_),o=!0)},o(_){e&&le(e.$$.fragment,_),o=!1},d(_){_&&v(r),e&&Le(e,_)}}}function ki(i){let e,t;return{c(){e=m("button"),t=A(i[7]),this.h()},l(l){e=p(l,"BUTTON",{type:!0,class:!0});var n=E(e);t=U(n,i[7]),n.forEach(v),this.h()},h(){g(e,"type","submit"),g(e,"class","svelte-cqs93v")},m(l,n){q(l,e,n),d(e,t),i[22](e)},p(l,n){n&128&&j(t,l[7])},d(l){l&&v(e),i[22](null)}}}function Dl(i){let e;return{c(){e=A(i[6])},l(t){e=U(t,i[6])},m(t,l){q(t,e,l)},p(t,l){l&64&&j(e,t[6])},d(t){t&&v(e)}}}function Il(i){let e;return{c(){e=A(i[8])},l(t){e=U(t,i[8])},m(t,l){q(t,e,l)},p(t,l){l&256&&j(e,t[8])},d(t){t&&v(e)}}}function Vl(i){let e,t,l,n,r,o,f,s,a,u,h,c,_,b,w,T,M,k,V,F,R,y;a=new wl({});const z=[Ll,El],W=[];function P(Z,C){return Z[4]?0:1}_=P(i),b=W[_]=z[_](i);let N=i[4]&&ki(i);function H(Z,C){return Z[4]?Il:Dl}let I=H(i),D=I(i);return{c(){e=m("dialog"),t=m("form"),l=m("div"),n=m("header"),r=m("h1"),o=A(i[2]),f=O(),s=m("button"),we(a.$$.fragment),h=O(),c=m("div"),b.c(),w=O(),T=m("div"),M=m("footer"),N&&N.c(),k=O(),V=m("button"),D.c(),this.h()},l(Z){e=p(Z,"DIALOG",{class:!0});var C=E(e);t=p(C,"FORM",{class:!0});var X=E(t);l=p(X,"DIV",{class:!0});var G=E(l);n=p(G,"HEADER",{class:!0});var be=E(n);r=p(be,"H1",{class:!0});var fe=E(r);o=U(fe,i[2]),fe.forEach(v),f=B(be),s=p(be,"BUTTON",{type:!0,class:!0,title:!0});var me=E(s);Me(a.$$.fragment,me),me.forEach(v),be.forEach(v),G.forEach(v),h=B(X),c=p(X,"DIV",{class:!0});var De=E(c);b.l(De),De.forEach(v),w=B(X),T=p(X,"DIV",{class:!0});var Pe=E(T);M=p(Pe,"FOOTER",{class:!0});var K=E(M);N&&N.l(K),k=B(K),V=p(K,"BUTTON",{type:!0,id:!0,class:!0});var ee=E(V);D.l(ee),ee.forEach(v),K.forEach(v),Pe.forEach(v),X.forEach(v),C.forEach(v),this.h()},h(){g(r,"class","svelte-cqs93v"),g(s,"type","button"),g(s,"class","close-btn svelte-cqs93v"),g(s,"title",u=i[0].lang.close),g(n,"class","svelte-cqs93v"),g(l,"class","svelte-cqs93v"),g(c,"class","content svelte-cqs93v"),g(V,"type","button"),g(V,"id","dialog-close"),g(V,"class","close svelte-cqs93v"),g(M,"class","svelte-cqs93v"),g(T,"class","svelte-cqs93v"),g(t,"class","svelte-cqs93v"),g(e,"class","svelte-cqs93v")},m(Z,C){q(Z,e,C),d(e,t),d(t,l),d(l,n),d(n,r),d(r,o),d(n,f),d(n,s),Ee(a,s,null),d(t,h),d(t,c),W[_].m(c,null),d(t,w),d(t,T),d(T,M),N&&N.m(M,null),d(M,k),d(M,V),D.m(V,null),i[23](V),i[24](e),F=!0,R||(y=[de(s,"click",i[14]),de(V,"click",i[14]),de(t,"submit",xi(i[13]))],R=!0)},p(Z,[C]){(!F||C&4)&&j(o,Z[2]),(!F||C&1&&u!==(u=Z[0].lang.close))&&g(s,"title",u);let X=_;_=P(Z),_===X?W[_].p(Z,C):(ut(),le(W[X],1,1,()=>{W[X]=null}),ft(),b=W[_],b?b.p(Z,C):(b=W[_]=z[_](Z),b.c()),ne(b,1),b.m(c,null)),Z[4]?N?N.p(Z,C):(N=ki(Z),N.c(),N.m(M,k)):N&&(N.d(1),N=null),I===(I=H(Z))&&D?D.p(Z,C):(D.d(1),D=I(Z),D&&(D.c(),D.m(V,null)))},i(Z){F||(ne(a.$$.fragment,Z),ne(b),F=!0)},o(Z){le(a.$$.fragment,Z),le(b),F=!1},d(Z){Z&&v(e),Le(a),W[_].d(),N&&N.d(),D.d(),i[23](null),i[24](null),R=!1,zt(y)}}}const wi=100;function Tl(i,e,t){let{title:l}=e,{passProps:n}=e,{config:r}=e,{db:o}=e,{hasSubmit:f}=e,{closeCallback:s}=e,{content:a}=e,{closeLabel:u=r.lang.close}=e,{submitLabel:h=r.lang.submit}=e,{cancelLabel:c=r.lang.cancel}=e,{confirmPrompt:_=void 0}=e,b,w,T;Wt(()=>{w!==void 0&&setTimeout(()=>{w.focus()},1)});function M(){b.classList.add("closing")}function k(D){"submitter"in D&&D.submitter!==T||(_===void 0||window.confirm(_))&&(M(),setTimeout(()=>s(F()),wi))}function V(D){M(),setTimeout(()=>s(void 0),wi)}Wt(()=>{b.showModal()}),el(()=>{b.close()});let F;function R(D){F=D,t(12,F)}function y(D){r=D,t(0,r)}function z(D){o=D,t(1,o)}function W(D){r=D,t(0,r)}function P(D){o=D,t(1,o)}function N(D){x[D?"unshift":"push"](()=>{T=D,t(11,T)})}function H(D){x[D?"unshift":"push"](()=>{w=D,t(10,w)})}function I(D){x[D?"unshift":"push"](()=>{b=D,t(9,b)})}return i.$$set=D=>{"title"in D&&t(2,l=D.title),"passProps"in D&&t(3,n=D.passProps),"config"in D&&t(0,r=D.config),"db"in D&&t(1,o=D.db),"hasSubmit"in D&&t(4,f=D.hasSubmit),"closeCallback"in D&&t(15,s=D.closeCallback),"content"in D&&t(5,a=D.content),"closeLabel"in D&&t(6,u=D.closeLabel),"submitLabel"in D&&t(7,h=D.submitLabel),"cancelLabel"in D&&t(8,c=D.cancelLabel),"confirmPrompt"in D&&t(16,_=D.confirmPrompt)},[r,o,l,n,f,a,u,h,c,b,w,T,F,k,V,s,_,R,y,z,W,P,N,H,I]}class Cl extends Ue{constructor(e){super(),We(this,e,Tl,Vl,Ae,{title:2,passProps:3,config:0,db:1,hasSubmit:4,closeCallback:15,content:5,closeLabel:6,submitLabel:7,cancelLabel:8,confirmPrompt:16})}}function Ml(i){let e,t;return{c(){e=St("svg"),t=St("circle"),this.h()},l(l){e=kt(l,"svg",{class:!0,viewBox:!0,xmlns:!0});var n=E(e);t=kt(n,"circle",{class:!0,cx:!0,cy:!0,r:!0}),E(t).forEach(v),n.forEach(v),this.h()},h(){g(t,"class","circle svelte-x36ooa"),g(t,"cx","200"),g(t,"cy","200"),g(t,"r","100"),g(e,"class","spinner"),g(e,"viewBox","0 0 400 400"),g(e,"xmlns","http://www.w3.org/2000/svg")},m(l,n){q(l,e,n),d(e,t)},p:ze,i:ze,o:ze,d(l){l&&v(e)}}}class yl extends Ue{constructor(e){super(),We(this,e,null,Ml,Ae,{})}}function Ei(i,e,t){const l=i.slice();return l[36]=e[t],l}function Li(i,e,t){const l=i.slice();return l[39]=e[t],l}function zl(i){let e,t,l,n,r,o=i[1].lang.enable+"",f,s,a,u,h=i[1].lang.ttsLanguageLabel+"",c,_,b,w,T,M,k=i[1].lang.ttsPitchLabel+"",V,F,R,y,z,W,P=i[2].toFixed(1)+"",N,H,I,D=i[1].lang.ttsRateLabel+"",Z,C,X,G,be,fe,me=i[3].toFixed(1)+"",De,Pe,K,ee=i[1].lang.ttsVolumeLabel+"",Te,Qe,Be,re,Ke,ye,Ge=i[4].toFixed(2)+"",qe,S,L,Se=i[1].lang.ttsTextLabel+"",Ie,Ve,te,pe,he,oe,Ce=i[1].lang.ttsPreview+"",ke,et,at,Fe=He(i[7].keys()),ce=[];for(let Q=0;Q<Fe.length;Q+=1)ce[Q]=Di(Li(i,Fe,Q));let _e=i[9]!==void 0&&i[8]!==void 0&&Ii(i);return{c(){e=m("fieldset"),t=m("legend"),l=m("input"),n=O(),r=m("label"),f=A(o),s=O(),a=m("div"),u=m("label"),c=A(h),_=O(),b=m("select");for(let Q=0;Q<ce.length;Q+=1)ce[Q].c();w=O(),_e&&_e.c(),T=O(),M=m("label"),V=A(k),F=O(),R=m("div"),y=m("input"),z=O(),W=m("div"),N=A(P),H=O(),I=m("label"),Z=A(D),C=O(),X=m("div"),G=m("input"),be=O(),fe=m("div"),De=A(me),Pe=O(),K=m("label"),Te=A(ee),Qe=O(),Be=m("div"),re=m("input"),Ke=O(),ye=m("div"),qe=A(Ge),S=O(),L=m("label"),Ie=A(Se),Ve=O(),te=m("input"),pe=O(),he=m("div"),oe=m("button"),ke=A(Ce),this.h()},l(Q){e=p(Q,"FIELDSET",{class:!0});var J=E(e);t=p(J,"LEGEND",{});var se=E(t);l=p(se,"INPUT",{id:!0,type:!0}),n=B(se),r=p(se,"LABEL",{for:!0});var Ye=E(r);f=U(Ye,o),Ye.forEach(v),se.forEach(v),s=B(J),a=p(J,"DIV",{class:!0});var ie=E(a);u=p(ie,"LABEL",{for:!0});var tt=E(u);c=U(tt,h),tt.forEach(v),_=B(ie),b=p(ie,"SELECT",{id:!0});var it=E(b);for(let ot=0;ot<ce.length;ot+=1)ce[ot].l(it);it.forEach(v),w=B(ie),_e&&_e.l(ie),T=B(ie),M=p(ie,"LABEL",{for:!0});var rt=E(M);V=U(rt,k),rt.forEach(v),F=B(ie),R=p(ie,"DIV",{class:!0});var Je=E(R);y=p(Je,"INPUT",{type:!0,min:!0,max:!0,step:!0,id:!0,class:!0}),z=B(Je),W=p(Je,"DIV",{class:!0});var lt=E(W);N=U(lt,P),lt.forEach(v),Je.forEach(v),H=B(ie),I=p(ie,"LABEL",{for:!0});var $=E(I);Z=U($,D),$.forEach(v),C=B(ie),X=p(ie,"DIV",{class:!0});var Y=E(X);G=p(Y,"INPUT",{type:!0,min:!0,max:!0,step:!0,id:!0,class:!0}),be=B(Y),fe=p(Y,"DIV",{class:!0});var ct=E(fe);De=U(ct,me),ct.forEach(v),Y.forEach(v),Pe=B(ie),K=p(ie,"LABEL",{for:!0});var ht=E(K);Te=U(ht,ee),ht.forEach(v),Qe=B(ie),Be=p(ie,"DIV",{class:!0});var nt=E(Be);re=p(nt,"INPUT",{type:!0,min:!0,max:!0,step:!0,id:!0,class:!0}),Ke=B(nt),ye=p(nt,"DIV",{class:!0});var vt=E(ye);qe=U(vt,Ge),vt.forEach(v),nt.forEach(v),S=B(ie),L=p(ie,"LABEL",{for:!0});var gt=E(L);Ie=U(gt,Se),gt.forEach(v),Ve=B(ie),te=p(ie,"INPUT",{id:!0}),pe=B(ie),he=p(ie,"DIV",{class:!0});var _t=E(he);oe=p(_t,"BUTTON",{class:!0,type:!0});var Ne=E(oe);ke=U(Ne,Ce),Ne.forEach(v),_t.forEach(v),ie.forEach(v),J.forEach(v),this.h()},h(){g(l,"id","muted"),g(l,"type","checkbox"),g(r,"for","muted"),g(u,"for","lang"),ue(u,"disabled",i[5]),g(b,"id","lang"),b.disabled=i[5],g(M,"for","pitch"),ue(M,"disabled",i[5]),g(y,"type","range"),g(y,"min",gi[0]),g(y,"max",gi[1]),g(y,"step","0.1"),g(y,"id","pitch"),y.disabled=i[5],g(y,"class","svelte-y4cd5r"),g(W,"class","svelte-y4cd5r"),ue(W,"disabled",i[5]),g(R,"class","input-cell svelte-y4cd5r"),g(I,"for","rate"),ue(I,"disabled",i[5]),g(G,"type","range"),g(G,"min",_i[0]),g(G,"max",_i[1]),g(G,"step","0.1"),g(G,"id","rate"),G.disabled=i[5],g(G,"class","svelte-y4cd5r"),g(fe,"class","svelte-y4cd5r"),ue(fe,"disabled",i[5]),g(X,"class","input-cell svelte-y4cd5r"),g(K,"for","volume"),ue(K,"disabled",i[5]),g(re,"type","range"),g(re,"min",bi[0]),g(re,"max",bi[1]),g(re,"step","0.01"),g(re,"id","volume"),re.disabled=i[5],g(re,"class","svelte-y4cd5r"),g(ye,"class","svelte-y4cd5r"),ue(ye,"disabled",i[5]),g(Be,"class","input-cell svelte-y4cd5r"),g(L,"for","text"),ue(L,"disabled",i[5]),g(te,"id","text"),te.disabled=i[5],g(oe,"class","play"),g(oe,"type","button"),oe.disabled=i[5],g(he,"class","btn-cont svelte-y4cd5r"),g(a,"class","dialog-grid svelte-y4cd5r"),e.disabled=i[5],g(e,"class","svelte-y4cd5r"),ue(e,"mute-group",i[5])},m(Q,J){q(Q,e,J),d(e,t),d(t,l),l.checked=i[6],d(t,n),d(t,r),d(r,f),d(e,s),d(e,a),d(a,u),d(u,c),d(a,_),d(a,b);for(let se=0;se<ce.length;se+=1)ce[se]&&ce[se].m(b,null);i[21](b),d(a,w),_e&&_e.m(a,null),d(a,T),d(a,M),d(M,V),d(a,F),d(a,R),d(R,y),ge(y,i[2]),d(R,z),d(R,W),d(W,N),d(a,H),d(a,I),d(I,Z),d(a,C),d(a,X),d(X,G),ge(G,i[3]),d(X,be),d(X,fe),d(fe,De),d(a,Pe),d(a,K),d(K,Te),d(a,Qe),d(a,Be),d(Be,re),ge(re,i[4]),d(Be,Ke),d(Be,ye),d(ye,qe),d(a,S),d(a,L),d(L,Ie),d(a,Ve),d(a,te),ge(te,i[0]),d(a,pe),d(a,he),d(he,oe),d(oe,ke),et||(at=[de(l,"change",i[20]),de(b,"change",i[16]),de(y,"change",i[23]),de(y,"input",i[23]),de(G,"change",i[24]),de(G,"input",i[24]),de(re,"change",i[25]),de(re,"input",i[25]),de(te,"input",i[26]),de(oe,"click",i[15])],et=!0)},p(Q,J){if(J[0]&64&&(l.checked=Q[6]),J[0]&2&&o!==(o=Q[1].lang.enable+"")&&j(f,o),J[0]&2&&h!==(h=Q[1].lang.ttsLanguageLabel+"")&&j(c,h),J[0]&32&&ue(u,"disabled",Q[5]),J[0]&640){Fe=He(Q[7].keys());let se;for(se=0;se<Fe.length;se+=1){const Ye=Li(Q,Fe,se);ce[se]?ce[se].p(Ye,J):(ce[se]=Di(Ye),ce[se].c(),ce[se].m(b,null))}for(;se<ce.length;se+=1)ce[se].d(1);ce.length=Fe.length}J[0]&32&&(b.disabled=Q[5]),Q[9]!==void 0&&Q[8]!==void 0?_e?_e.p(Q,J):(_e=Ii(Q),_e.c(),_e.m(a,T)):_e&&(_e.d(1),_e=null),J[0]&2&&k!==(k=Q[1].lang.ttsPitchLabel+"")&&j(V,k),J[0]&32&&ue(M,"disabled",Q[5]),J[0]&32&&(y.disabled=Q[5]),J[0]&4&&ge(y,Q[2]),J[0]&4&&P!==(P=Q[2].toFixed(1)+"")&&j(N,P),J[0]&32&&ue(W,"disabled",Q[5]),J[0]&2&&D!==(D=Q[1].lang.ttsRateLabel+"")&&j(Z,D),J[0]&32&&ue(I,"disabled",Q[5]),J[0]&32&&(G.disabled=Q[5]),J[0]&8&&ge(G,Q[3]),J[0]&8&&me!==(me=Q[3].toFixed(1)+"")&&j(De,me),J[0]&32&&ue(fe,"disabled",Q[5]),J[0]&2&&ee!==(ee=Q[1].lang.ttsVolumeLabel+"")&&j(Te,ee),J[0]&32&&ue(K,"disabled",Q[5]),J[0]&32&&(re.disabled=Q[5]),J[0]&16&&ge(re,Q[4]),J[0]&16&&Ge!==(Ge=Q[4].toFixed(2)+"")&&j(qe,Ge),J[0]&32&&ue(ye,"disabled",Q[5]),J[0]&2&&Se!==(Se=Q[1].lang.ttsTextLabel+"")&&j(Ie,Se),J[0]&32&&ue(L,"disabled",Q[5]),J[0]&32&&(te.disabled=Q[5]),J[0]&1&&te.value!==Q[0]&&ge(te,Q[0]),J[0]&2&&Ce!==(Ce=Q[1].lang.ttsPreview+"")&&j(ke,Ce),J[0]&32&&(oe.disabled=Q[5]),J[0]&32&&(e.disabled=Q[5]),J[0]&32&&ue(e,"mute-group",Q[5])},i:ze,o:ze,d(Q){Q&&v(e),Ht(ce,Q),i[21](null),_e&&_e.d(),et=!1,zt(at)}}}function Pl(i){let e,t,l,n;const r=[Ol,Nl],o=[];function f(s,a){return s[14]?1:0}return e=f(i),t=o[e]=r[e](i),{c(){t.c(),l=Ze()},l(s){t.l(s),l=Ze()},m(s,a){o[e].m(s,a),q(s,l,a),n=!0},p(s,a){let u=e;e=f(s),e===u?o[e].p(s,a):(ut(),le(o[u],1,1,()=>{o[u]=null}),ft(),t=o[e],t?t.p(s,a):(t=o[e]=r[e](s),t.c()),ne(t,1),t.m(l.parentNode,l))},i(s){n||(ne(t),n=!0)},o(s){le(t),n=!1},d(s){s&&v(l),o[e].d(s)}}}function Di(i){let e,t=i[39]+"",l,n,r;return{c(){e=m("option"),l=A(t),this.h()},l(o){e=p(o,"OPTION",{});var f=E(e);l=U(f,t),f.forEach(v),this.h()},h(){e.selected=n=i[9]===i[39],e.__value=r=i[39],ge(e,e.__value)},m(o,f){q(o,e,f),d(e,l)},p(o,f){f[0]&128&&t!==(t=o[39]+"")&&j(l,t),f[0]&640&&n!==(n=o[9]===o[39])&&(e.selected=n),f[0]&128&&r!==(r=o[39])&&(e.__value=r,ge(e,e.__value))},d(o){o&&v(e)}}}function Ii(i){let e,t=i[1].lang.ttsVoiceLabel+"",l,n,r,o,f,s=He(i[8]),a=[];for(let u=0;u<s.length;u+=1)a[u]=Vi(Ei(i,s,u));return{c(){e=m("label"),l=A(t),n=O(),r=m("select");for(let u=0;u<a.length;u+=1)a[u].c();this.h()},l(u){e=p(u,"LABEL",{for:!0});var h=E(e);l=U(h,t),h.forEach(v),n=B(u),r=p(u,"SELECT",{id:!0});var c=E(r);for(let _=0;_<a.length;_+=1)a[_].l(c);c.forEach(v),this.h()},h(){g(e,"for","voice"),ue(e,"disabled",i[5]),g(r,"id","voice"),r.disabled=i[5]},m(u,h){q(u,e,h),d(e,l),q(u,n,h),q(u,r,h);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(r,null);i[22](r),o||(f=de(r,"change",i[17]),o=!0)},p(u,h){if(h[0]&2&&t!==(t=u[1].lang.ttsVoiceLabel+"")&&j(l,t),h[0]&32&&ue(e,"disabled",u[5]),h[0]&1792){s=He(u[8]);let c;for(c=0;c<s.length;c+=1){const _=Ei(u,s,c);a[c]?a[c].p(_,h):(a[c]=Vi(_),a[c].c(),a[c].m(r,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=s.length}h[0]&32&&(r.disabled=u[5])},d(u){u&&(v(e),v(n),v(r)),Ht(a,u),i[22](null),o=!1,f()}}}function Vi(i){let e,t=mi(i[36].name,i[9])+"",l,n,r;return{c(){e=m("option"),l=A(t),this.h()},l(o){e=p(o,"OPTION",{});var f=E(e);l=U(f,t),f.forEach(v),this.h()},h(){e.__value=n=i[36].name,ge(e,e.__value),e.selected=r=i[10]==i[36].name},m(o,f){q(o,e,f),d(e,l)},p(o,f){f[0]&768&&t!==(t=mi(o[36].name,o[9])+"")&&j(l,t),f[0]&256&&n!==(n=o[36].name)&&(e.__value=n,ge(e,e.__value)),f[0]&1280&&r!==(r=o[10]==o[36].name)&&(e.selected=r)},d(o){o&&v(e)}}}function Nl(i){let e,t,l=i[1].lang.ttsNotEnabled+"";return{c(){e=m("div"),t=new tl(!1),this.h()},l(n){e=p(n,"DIV",{});var r=E(e);t=il(r,!1),r.forEach(v),this.h()},h(){t.a=null},m(n,r){q(n,e,r),t.m(l,e)},p(n,r){r[0]&2&&l!==(l=n[1].lang.ttsNotEnabled+"")&&t.p(l)},i:ze,o:ze,d(n){n&&v(e)}}}function Ol(i){let e,t,l=i[1].lang.loading+"",n,r,o,f;return o=new yl({}),{c(){e=m("div"),t=m("p"),n=A(l),r=O(),we(o.$$.fragment),this.h()},l(s){e=p(s,"DIV",{class:!0});var a=E(e);t=p(a,"P",{});var u=E(t);n=U(u,l),u.forEach(v),r=B(a),Me(o.$$.fragment,a),a.forEach(v),this.h()},h(){g(e,"class","loading svelte-y4cd5r")},m(s,a){q(s,e,a),d(e,t),d(t,n),d(e,r),Ee(o,e,null),f=!0},p(s,a){(!f||a[0]&2)&&l!==(l=s[1].lang.loading+"")&&j(n,l)},i(s){f||(ne(o.$$.fragment,s),f=!0)},o(s){le(o.$$.fragment,s),f=!1},d(s){s&&v(e),Le(o)}}}function Bl(i){let e,t,l,n;const r=[Pl,zl],o=[];function f(s,a){return!s[13]||s[7].size===0?0:1}return e=f(i),t=o[e]=r[e](i),{c(){t.c(),l=Ze()},l(s){t.l(s),l=Ze()},m(s,a){o[e].m(s,a),q(s,l,a),n=!0},p(s,a){let u=e;e=f(s),e===u?o[e].p(s,a):(ut(),le(o[u],1,1,()=>{o[u]=null}),ft(),t=o[e],t?t.p(s,a):(t=o[e]=r[e](s),t.c()),ne(t,1),t.m(l.parentNode,l))},i(s){n||(ne(t),n=!0)},o(s){le(t),n=!1},d(s){s&&v(l),o[e].d(s)}}}function ql(i,e,t){let{config:l}=e,{text:n=l.lang.ttsExampleText}=e,{db:r}=e,o=l.tts!==void 0?l.tts.pitch:1,f=l.tts!==void 0?l.tts.rate:1,s=l.tts!==void 0?l.tts.volume:1,a=l.tts!==void 0?l.tts.queueSize:1,u=l.tts!==void 0?l.tts.mute:!0,h=new Map,c,_,b,w,T,M,k=!u,V=!1,F=!1;I(),Wt(()=>{speechSynthesis.cancel(),speechSynthesis.addEventListener("voiceschanged",I),setTimeout(()=>{V||t(14,F=!0)},1e4)});function R(){return w?new cl(w,f,o,s,u,a):void 0}function y(K){t(9,_=vi(K)),t(8,c=h.get(_))}function z(K){w=K,t(10,b=K.name)}function W(){c===void 0||c.length===0||(t(10,b=c[0].name),w=c[0])}function P(){const K=h.keys().next().value;K&&y(K)}function N(K){const ee=c==null?void 0:c.find(Te=>Te.name===K);return ee?(z(ee),!0):!1}function H(K){let ee;for(ee of K){const Te=vi(ee);if(h.get(Te)!==void 0){y(Te),N(ee)||W();break}}}function I(){if(h.size===0&&(t(7,h=fl()),h.size!==0)){if(t(13,V=!0),l.tts!==void 0&&l.tts.voice.name!==""){y(l.tts.voice.name),z(l.tts.voice);return}H(dl(l.lang.lang)),_===void 0&&(P(),W())}}function D(){if(w===void 0)return;const K=new SpeechSynthesisUtterance(n);K.voice=w,K.rate=f,K.pitch=o,speechSynthesis.speak(K)}function Z(K){speechSynthesis.cancel(),_!==T.value&&(y(T.value),W())}function C(K){speechSynthesis.cancel(),b!==M.value&&N(M.value)}function X(){k=this.checked,t(6,k)}function G(K){x[K?"unshift":"push"](()=>{T=K,t(11,T),t(7,h)})}function be(K){x[K?"unshift":"push"](()=>{M=K,t(12,M),t(8,c)})}function fe(){o=Ft(this.value),t(2,o)}function me(){f=Ft(this.value),t(3,f)}function De(){s=Ft(this.value),t(4,s)}function Pe(){n=this.value,t(0,n)}return i.$$set=K=>{"config"in K&&t(1,l=K.config),"text"in K&&t(0,n=K.text),"db"in K&&t(18,r=K.db)},i.$$.update=()=>{i.$$.dirty[0]&64&&t(5,u=!k),i.$$.dirty[0]&61&&speechSynthesis.cancel()},[n,l,o,f,s,u,k,h,c,_,b,T,M,V,F,D,Z,C,r,R,X,G,be,fe,me,De,Pe]}class Fl extends Ue{constructor(e){super(),We(this,e,ql,Bl,Ae,{config:1,text:0,db:18,getData:19},null,[-1,-1])}get getData(){return this.$$.ctx[19]}}function Al(i){let e,t,l=i[1].lang.statsDialogWords+"",n,r,o,f=i[0].words+"",s,a,u,h=i[1].lang.statsDialogChars+"",c,_,b,w=i[0].chars+"",T,M,k,V=i[1].lang.statsDialogKeystrokes+"",F,R,y,z=i[0].keystrokes+"",W,P,N,H,I,D,Z="Duration",C,X,G=Qt(i[5],i[0].duration)+"",be,fe,me,De=i[1].lang.statsDialogUncorrectedErrors+"",Pe,K,ee,Te=i[0].uncorrectedErrors+"",Qe,Be,re,Ke=i[1].lang.statsDialogCorrectedErrors+"",ye,Ge,qe,S=i[0].correctedErrors+"",L,Se,Ie,Ve,te,pe,he=i[1].lang.statsDialogGrossWpm+"",oe,Ce,ke,et,at,Fe,ce=i[1].lang.statsDialogNetWpm+"",_e,Q,J,se,Ye,ie,tt=i[1].lang.statsDialogAccuracy+"",it,rt,Je,lt;return{c(){e=m("div"),t=m("div"),n=A(l),r=O(),o=m("div"),s=A(f),a=O(),u=m("div"),c=A(h),_=O(),b=m("div"),T=A(w),M=O(),k=m("div"),F=A(V),R=O(),y=m("div"),W=A(z),P=O(),N=m("hr"),H=O(),I=m("div"),D=m("div"),D.textContent=Z,C=O(),X=m("div"),be=A(G),fe=O(),me=m("div"),Pe=A(De),K=O(),ee=m("div"),Qe=A(Te),Be=O(),re=m("div"),ye=A(Ke),Ge=O(),qe=m("div"),L=A(S),Se=O(),Ie=m("hr"),Ve=O(),te=m("div"),pe=m("div"),oe=A(he),Ce=O(),ke=m("div"),et=A(i[2]),at=O(),Fe=m("div"),_e=A(ce),Q=O(),J=m("div"),se=A(i[3]),Ye=O(),ie=m("div"),it=A(tt),rt=O(),Je=m("div"),lt=A(i[4]),this.h()},l($){e=p($,"DIV",{class:!0});var Y=E(e);t=p(Y,"DIV",{class:!0});var ct=E(t);n=U(ct,l),ct.forEach(v),r=B(Y),o=p(Y,"DIV",{class:!0});var ht=E(o);s=U(ht,f),ht.forEach(v),a=B(Y),u=p(Y,"DIV",{class:!0});var nt=E(u);c=U(nt,h),nt.forEach(v),_=B(Y),b=p(Y,"DIV",{class:!0});var vt=E(b);T=U(vt,w),vt.forEach(v),M=B(Y),k=p(Y,"DIV",{class:!0});var gt=E(k);F=U(gt,V),gt.forEach(v),R=B(Y),y=p(Y,"DIV",{class:!0});var _t=E(y);W=U(_t,z),_t.forEach(v),Y.forEach(v),P=B($),N=p($,"HR",{class:!0}),H=B($),I=p($,"DIV",{class:!0});var Ne=E(I);D=p(Ne,"DIV",{class:!0,"data-svelte-h":!0}),ji(D)!=="svelte-1ora9yb"&&(D.textContent=Z),C=B(Ne),X=p(Ne,"DIV",{class:!0});var ot=E(X);be=U(ot,G),ot.forEach(v),fe=B(Ne),me=p(Ne,"DIV",{class:!0});var ii=E(me);Pe=U(ii,De),ii.forEach(v),K=B(Ne),ee=p(Ne,"DIV",{class:!0});var li=E(ee);Qe=U(li,Te),li.forEach(v),Be=B(Ne),re=p(Ne,"DIV",{class:!0});var ni=E(re);ye=U(ni,Ke),ni.forEach(v),Ge=B(Ne),qe=p(Ne,"DIV",{class:!0});var si=E(qe);L=U(si,S),si.forEach(v),Ne.forEach(v),Se=B($),Ie=p($,"HR",{class:!0}),Ve=B($),te=p($,"DIV",{class:!0});var Re=E(te);pe=p(Re,"DIV",{class:!0});var ai=E(pe);oe=U(ai,he),ai.forEach(v),Ce=B(Re),ke=p(Re,"DIV",{class:!0});var ri=E(ke);et=U(ri,i[2]),ri.forEach(v),at=B(Re),Fe=p(Re,"DIV",{class:!0});var oi=E(Fe);_e=U(oi,ce),oi.forEach(v),Q=B(Re),J=p(Re,"DIV",{class:!0});var ui=E(J);se=U(ui,i[3]),ui.forEach(v),Ye=B(Re),ie=p(Re,"DIV",{class:!0});var fi=E(ie);it=U(fi,tt),fi.forEach(v),rt=B(Re),Je=p(Re,"DIV",{class:!0});var di=E(Je);lt=U(di,i[4]),di.forEach(v),Re.forEach(v),this.h()},h(){g(t,"class","label svelte-boz3us"),g(o,"class","svelte-boz3us"),g(u,"class","label svelte-boz3us"),g(b,"class","svelte-boz3us"),g(k,"class","label svelte-boz3us"),g(y,"class","svelte-boz3us"),g(e,"class","dialog-grid svelte-boz3us"),g(N,"class","svelte-boz3us"),g(D,"class","label svelte-boz3us"),g(X,"class","svelte-boz3us"),g(me,"class","label svelte-boz3us"),g(ee,"class","svelte-boz3us"),g(re,"class","label svelte-boz3us"),g(qe,"class","svelte-boz3us"),g(I,"class","dialog-grid svelte-boz3us"),g(Ie,"class","svelte-boz3us"),g(pe,"class","label svelte-boz3us"),g(ke,"class","svelte-boz3us"),g(Fe,"class","label svelte-boz3us"),g(J,"class","svelte-boz3us"),g(ie,"class","label svelte-boz3us"),g(Je,"class","svelte-boz3us"),g(te,"class","dialog-grid svelte-boz3us")},m($,Y){q($,e,Y),d(e,t),d(t,n),d(e,r),d(e,o),d(o,s),d(e,a),d(e,u),d(u,c),d(e,_),d(e,b),d(b,T),d(e,M),d(e,k),d(k,F),d(e,R),d(e,y),d(y,W),q($,P,Y),q($,N,Y),q($,H,Y),q($,I,Y),d(I,D),d(I,C),d(I,X),d(X,be),d(I,fe),d(I,me),d(me,Pe),d(I,K),d(I,ee),d(ee,Qe),d(I,Be),d(I,re),d(re,ye),d(I,Ge),d(I,qe),d(qe,L),q($,Se,Y),q($,Ie,Y),q($,Ve,Y),q($,te,Y),d(te,pe),d(pe,oe),d(te,Ce),d(te,ke),d(ke,et),d(te,at),d(te,Fe),d(Fe,_e),d(te,Q),d(te,J),d(J,se),d(te,Ye),d(te,ie),d(ie,it),d(te,rt),d(te,Je),d(Je,lt)},p($,[Y]){Y&2&&l!==(l=$[1].lang.statsDialogWords+"")&&j(n,l),Y&1&&f!==(f=$[0].words+"")&&j(s,f),Y&2&&h!==(h=$[1].lang.statsDialogChars+"")&&j(c,h),Y&1&&w!==(w=$[0].chars+"")&&j(T,w),Y&2&&V!==(V=$[1].lang.statsDialogKeystrokes+"")&&j(F,V),Y&1&&z!==(z=$[0].keystrokes+"")&&j(W,z),Y&1&&G!==(G=Qt($[5],$[0].duration)+"")&&j(be,G),Y&2&&De!==(De=$[1].lang.statsDialogUncorrectedErrors+"")&&j(Pe,De),Y&1&&Te!==(Te=$[0].uncorrectedErrors+"")&&j(Qe,Te),Y&2&&Ke!==(Ke=$[1].lang.statsDialogCorrectedErrors+"")&&j(ye,Ke),Y&1&&S!==(S=$[0].correctedErrors+"")&&j(L,S),Y&2&&he!==(he=$[1].lang.statsDialogGrossWpm+"")&&j(oe,he),Y&4&&j(et,$[2]),Y&2&&ce!==(ce=$[1].lang.statsDialogNetWpm+"")&&j(_e,ce),Y&8&&j(se,$[3]),Y&2&&tt!==(tt=$[1].lang.statsDialogAccuracy+"")&&j(it,tt),Y&16&&j(lt,$[4])},i:ze,o:ze,d($){$&&(v(e),v(P),v(N),v(H),v(I),v(Se),v(Ie),v(Ve),v(te))}}}function Xi(){return!0}function Ul(i,e,t){let{stats:l}=e,{config:n}=e,r=Hi(n.lang),o="",f="",s="";function a(){t(2,o=At(n.lang,l.getGrossWpm(),{style:"decimal",maximumFractionDigits:2})),t(3,f=At(n.lang,l.getNetWpm(),{style:"decimal",maximumFractionDigits:2})),t(4,s=At(n.lang,l.getAccuracy(),{style:"percent"}))}return a(),i.$$set=u=>{"stats"in u&&t(0,l=u.stats),"config"in u&&t(1,n=u.config)},[l,n,o,f,s,r,Xi]}class Zi extends Ue{constructor(e){super(),We(this,e,Ul,Al,Ae,{stats:0,config:1,getData:6})}get getData(){return Xi}}const Ti={duration:0,keystrokes:0,wordErrors:0,backspaces:0,words:0,chars:0,uncorrectedErrors:0,correctedErrors:0};function Wl(i){let e;const t={count:0};for(e in Ti)t[e]=[0,0];i.entries.reduce((n,r)=>{n.count+=1;for(e in r)n[e][0]+=r[e];return n},t);const l=t.count;for(e in Ti)t[e][1]=t[e][0]/l;return t}function Ql(i){let e=[],t;for(t in i)t!=="count"&&e.push([t,i[t][0],i[t][1]]);return e}function Ci(i,e,t){const l=i.slice();return l[10]=e[t][0],l[11]=e[t][1],l[12]=e[t][2],l}function Mi(i){let e,t=pi(i[0].lang,i[10])+"",l,n,r,o=i[3](i[10],i[12])+"",f,s,a,u=i[3](i[10],i[11])+"",h;return{c(){e=m("div"),l=A(t),n=O(),r=m("div"),f=A(o),s=O(),a=m("div"),h=A(u),this.h()},l(c){e=p(c,"DIV",{class:!0});var _=E(e);l=U(_,t),_.forEach(v),n=B(c),r=p(c,"DIV",{class:!0});var b=E(r);f=U(b,o),b.forEach(v),s=B(c),a=p(c,"DIV",{class:!0});var w=E(a);h=U(w,u),w.forEach(v),this.h()},h(){g(e,"class","key svelte-kq6bww"),ue(e,"duration",i[10]==="duration"),g(r,"class","value svelte-kq6bww"),ue(r,"duration",i[10]==="duration"),g(a,"class","value svelte-kq6bww"),ue(a,"duration",i[10]==="duration")},m(c,_){q(c,e,_),d(e,l),q(c,n,_),q(c,r,_),d(r,f),q(c,s,_),q(c,a,_),d(a,h)},p(c,_){_&1&&t!==(t=pi(c[0].lang,c[10])+"")&&j(l,t)},d(c){c&&(v(e),v(n),v(r),v(s),v(a))}}}function Rl(i){let e,t,l,n,r=i[0].lang.statsLogAverage+"",o,f,s,a=i[0].lang.statsLogTotal+"",u,h,c,_=i[0].lang.statsLogSessions+"",b,w,T,M,k,V=i[1].count+"",F,R,y,z,W="",P=He(i[2]),N=[];for(let H=0;H<P.length;H+=1)N[H]=Mi(Ci(i,P,H));return{c(){e=m("div"),t=m("div"),l=O(),n=m("div"),o=A(r),f=O(),s=m("div"),u=A(a),h=O(),c=m("div"),b=A(_),w=O(),T=m("div"),M=O(),k=m("div"),F=A(V),R=O();for(let H=0;H<N.length;H+=1)N[H].c();y=O(),z=m("div"),z.innerHTML=W,this.h()},l(H){e=p(H,"DIV",{class:!0});var I=E(e);t=p(I,"DIV",{class:!0}),E(t).forEach(v),l=B(I),n=p(I,"DIV",{class:!0});var D=E(n);o=U(D,r),D.forEach(v),f=B(I),s=p(I,"DIV",{class:!0});var Z=E(s);u=U(Z,a),Z.forEach(v),h=B(I),c=p(I,"DIV",{class:!0});var C=E(c);b=U(C,_),C.forEach(v),w=B(I),T=p(I,"DIV",{}),E(T).forEach(v),M=B(I),k=p(I,"DIV",{class:!0});var X=E(k);F=U(X,V),X.forEach(v),R=B(I);for(let G=0;G<N.length;G+=1)N[G].l(I);y=B(I),z=p(I,"DIV",{class:!0,"data-svelte-h":!0}),ji(z)!=="svelte-196ejz"&&(z.innerHTML=W),I.forEach(v),this.h()},h(){g(t,"class","grid-header svelte-kq6bww"),g(n,"class","grid-header key svelte-kq6bww"),g(s,"class","grid-header key svelte-kq6bww"),g(c,"class","key svelte-kq6bww"),g(k,"class","value svelte-kq6bww"),g(z,"class","merge reset-stats svelte-kq6bww"),g(e,"class","dialog-grid svelte-kq6bww")},m(H,I){q(H,e,I),d(e,t),d(e,l),d(e,n),d(n,o),d(e,f),d(e,s),d(s,u),d(e,h),d(e,c),d(c,b),d(e,w),d(e,T),d(e,M),d(e,k),d(k,F),d(e,R);for(let D=0;D<N.length;D+=1)N[D]&&N[D].m(e,null);d(e,y),d(e,z)},p(H,[I]){if(I&1&&r!==(r=H[0].lang.statsLogAverage+"")&&j(o,r),I&1&&a!==(a=H[0].lang.statsLogTotal+"")&&j(u,a),I&1&&_!==(_=H[0].lang.statsLogSessions+"")&&j(b,_),I&13){P=He(H[2]);let D;for(D=0;D<P.length;D+=1){const Z=Ci(H,P,D);N[D]?N[D].p(Z,I):(N[D]=Mi(Z),N[D].c(),N[D].m(e,y))}for(;D<N.length;D+=1)N[D].d(1);N.length=P.length}},i:ze,o:ze,d(H){H&&v(e),Ht(N,H)}}}let yi=0;function jl(i,e,t){let{config:l}=e,{statsLog:n}=e,{db:r}=e;n.entries.length;let o,f={lesson_id:n.lesson_id,entries:n.entries.slice(yi,o)};const s=Hi(l.lang,!0);let a=Wl(f),u=Ql(a);function h(c,_){return Number.isNaN(_)?l.lang.notAvailable:c==="duration"?Qt(s,_," "):_.toString()}return i.$$set=c=>{"config"in c&&t(0,l=c.config),"statsLog"in c&&t(4,n=c.statsLog),"db"in c&&t(5,r=c.db)},i.$$.update=()=>{i.$$.dirty&16&&(f={lesson_id:n.lesson_id,entries:n.entries.slice(yi,o)})},[l,a,u,h,n,r]}class Hl extends Ue{constructor(e){super(),We(this,e,jl,Rl,Ae,{config:0,statsLog:4,db:5})}}const Kl=i=>({}),zi=i=>({}),Gl=i=>({}),Pi=i=>({}),Jl=i=>({}),Ni=i=>({});function Xl(i){let e;const t=i[11].value,l=Kt(t,i,i[10],zi);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,r){l&&l.m(n,r),e=!0},p(n,r){l&&l.p&&(!e||r&1024)&&Gt(l,t,n,n[10],e?Xt(t,n[10],r,Kl):Jt(n[10]),zi)},i(n){e||(ne(l,n),e=!0)},o(n){le(l,n),e=!1},d(n){l&&l.d(n)}}}function Zl(i){let e,t;const l=i[11].inherit,n=Kt(l,i,i[10],Pi);return{c(){e=m("div"),n&&n.c(),this.h()},l(r){e=p(r,"DIV",{class:!0});var o=E(e);n&&n.l(o),o.forEach(v),this.h()},h(){g(e,"class","inherit-value")},m(r,o){q(r,e,o),n&&n.m(e,null),t=!0},p(r,o){n&&n.p&&(!t||o&1024)&&Gt(n,l,r,r[10],t?Xt(l,r[10],o,Gl):Jt(r[10]),Pi)},i(r){t||(ne(n,r),t=!0)},o(r){le(n,r),t=!1},d(r){r&&v(e),n&&n.d(r)}}}function Yl(i){let e,t,l,n,r;const o=i[11].override,f=Kt(o,i,i[10],Ni);let s=i[3]!==""&&Oi(i);return{c(){e=m("div"),t=m("div"),l=m("div"),f&&f.c(),n=O(),s&&s.c(),this.h()},l(a){e=p(a,"DIV",{class:!0});var u=E(e);t=p(u,"DIV",{class:!0});var h=E(t);l=p(h,"DIV",{class:!0});var c=E(l);f&&f.l(c),c.forEach(v),h.forEach(v),n=B(u),s&&s.l(u),u.forEach(v),this.h()},h(){g(l,"class","override-slot svelte-1akuhsm"),g(t,"class","override-value svelte-1akuhsm"),g(e,"class","override svelte-1akuhsm")},m(a,u){q(a,e,u),d(e,t),d(t,l),f&&f.m(l,null),d(e,n),s&&s.m(e,null),r=!0},p(a,u){f&&f.p&&(!r||u&1024)&&Gt(f,o,a,a[10],r?Xt(o,a[10],u,Jl):Jt(a[10]),Ni),a[3]!==""?s?s.p(a,u):(s=Oi(a),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i(a){r||(ne(f,a),r=!0)},o(a){le(f,a),r=!1},d(a){a&&v(e),f&&f.d(a),s&&s.d()}}}function Oi(i){let e,t;return{c(){e=m("div"),t=A(i[3]),this.h()},l(l){e=p(l,"DIV",{class:!0});var n=E(e);t=U(n,i[3]),n.forEach(v),this.h()},h(){g(e,"class","override-label svelte-1akuhsm")},m(l,n){q(l,e,n),d(e,t)},p(l,n){n&8&&j(t,l[3])},d(l){l&&v(e)}}}function $l(i){let e,t,l,n,r,o,f,s,a,u,h,c,_,b;const w=[Yl,Zl,Xl],T=[];function M(k,V){return k[2]!=="enabled"?0:k[0]?1:2}return a=M(i),u=T[a]=w[a](i),{c(){e=m("div"),t=m("input"),r=O(),o=m("label"),f=A(i[1]),s=O(),u.c(),h=Ze(),this.h()},l(k){e=p(k,"DIV",{class:!0});var V=E(e);t=p(V,"INPUT",{id:!0,type:!0}),r=B(V),o=p(V,"LABEL",{for:!0});var F=E(o);f=U(F,i[1]),F.forEach(v),V.forEach(v),s=B(k),u.l(k),h=Ze(),this.h()},h(){g(t,"id",i[6]),t.checked=l=i[2]==="enabled"&&i[5],g(t,"type","checkbox"),t.disabled=n=i[2]!=="enabled",g(o,"for",i[6]),ue(o,"disabled",i[2]!=="enabled"),g(e,"class","optional svelte-1akuhsm")},m(k,V){q(k,e,V),d(e,t),i[12](t),d(e,r),d(e,o),d(o,f),q(k,s,V),T[a].m(k,V),q(k,h,V),c=!0,_||(b=de(t,"change",i[7]),_=!0)},p(k,[V]){(!c||V&36&&l!==(l=k[2]==="enabled"&&k[5]))&&(t.checked=l),(!c||V&4&&n!==(n=k[2]!=="enabled"))&&(t.disabled=n),(!c||V&2)&&j(f,k[1]),(!c||V&4)&&ue(o,"disabled",k[2]!=="enabled");let F=a;a=M(k),a===F?T[a].p(k,V):(ut(),le(T[F],1,1,()=>{T[F]=null}),ft(),u=T[a],u?u.p(k,V):(u=T[a]=w[a](k),u.c()),ne(u,1),u.m(h.parentNode,h))},i(k){c||(ne(u),c=!0)},o(k){le(u),c=!1},d(k){k&&(v(e),v(s),v(h)),i[12](null),T[a].d(k),_=!1,b()}}}function xl(i,e,t){let{$$slots:l={},$$scope:n}=e,{label:r}=e,{id:o}=e,{override:f}=e,{overrideMessage:s}=e,{inherit:a}=e;const u=Lt();let h=o+"",c,_=!a;o==="random"&&console.log(`initializing random: override=${f} inherit=${a} notInherited=${_}`);function b(){return a}function w(){u("inheritUpdate",{})}function T(){f==="enabled"&&(t(5,_=c.checked),t(0,a=!_),w())}function M(k){x[k?"unshift":"push"](()=>{c=k,t(4,c)})}return i.$$set=k=>{"label"in k&&t(1,r=k.label),"id"in k&&t(8,o=k.id),"override"in k&&t(2,f=k.override),"overrideMessage"in k&&t(3,s=k.overrideMessage),"inherit"in k&&t(0,a=k.inherit),"$$scope"in k&&t(10,n=k.$$scope)},[a,r,f,s,c,_,h,T,o,b,n,l,M]}class Bt extends Ue{constructor(e){super(),We(this,e,xl,$l,Ae,{label:1,id:8,override:2,overrideMessage:3,inherit:0,getState:9})}get getState(){return this.$$.ctx[9]}}function en(i){let e,t,l;return{c(){e=A("("),t=A(i[4]),l=A(")")},l(n){e=U(n,"("),t=U(n,i[4]),l=U(n,")")},m(n,r){q(n,e,r),q(n,t,r),q(n,l,r)},p(n,r){r&16&&j(t,n[4])},d(n){n&&(v(e),v(t),v(l))}}}function tn(i){let e,t,l;return{c(){e=A("("),t=A(i[3]),l=A(")")},l(n){e=U(n,"("),t=U(n,i[3]),l=U(n,")")},m(n,r){q(n,e,r),q(n,t,r),q(n,l,r)},p(n,r){r&8&&j(t,n[3])},d(n){n&&(v(e),v(t),v(l))}}}function ln(i){let e,t,l,n,r;function o(a,u){return a[5]===!0?tn:en}let f=o(i),s=f(i);return{c(){e=m("div"),t=m("div"),l=m("input"),r=O(),s.c(),this.h()},l(a){e=p(a,"DIV",{slot:!0});var u=E(e);t=p(u,"DIV",{class:!0});var h=E(t);l=p(h,"INPUT",{type:!0}),r=B(h),s.l(h),h.forEach(v),u.forEach(v),this.h()},h(){g(l,"type","checkbox"),l.disabled=!0,l.checked=n=i[5]===!0,g(t,"class","label disabled svelte-17sqzl3"),g(e,"slot","override")},m(a,u){q(a,e,u),d(e,t),d(t,l),d(t,r),s.m(t,null)},p(a,u){u&32&&n!==(n=a[5]===!0)&&(l.checked=n),f===(f=o(a))&&s?s.p(a,u):(s.d(1),s=f(a),s&&(s.c(),s.m(t,null)))},d(a){a&&v(e),s.d()}}}function nn(i){let e;return{c(){e=A(i[4])},l(t){e=U(t,i[4])},m(t,l){q(t,e,l)},p(t,l){l&16&&j(e,t[4])},d(t){t&&v(e)}}}function sn(i){let e;return{c(){e=A(i[3])},l(t){e=U(t,i[3])},m(t,l){q(t,e,l)},p(t,l){l&8&&j(e,t[3])},d(t){t&&v(e)}}}function an(i){let e,t,l,n;function r(s,a){return s[6]?sn:nn}let o=r(i),f=o(i);return{c(){e=m("div"),t=m("div"),l=m("input"),n=O(),f.c(),this.h()},l(s){e=p(s,"DIV",{slot:!0});var a=E(e);t=p(a,"DIV",{class:!0});var u=E(t);l=p(u,"INPUT",{type:!0}),n=B(u),f.l(u),u.forEach(v),a.forEach(v),this.h()},h(){g(l,"type","checkbox"),l.disabled=!0,l.checked=i[6],g(t,"class","label disabled svelte-17sqzl3"),g(e,"slot","inherit")},m(s,a){q(s,e,a),d(e,t),d(t,l),d(t,n),f.m(t,null)},p(s,a){a&64&&(l.checked=s[6]),o===(o=r(s))&&f?f.p(s,a):(f.d(1),f=o(s),f&&(f.c(),f.m(t,null)))},d(s){s&&v(e),f.d()}}}function rn(i){let e;return{c(){e=A(i[4])},l(t){e=U(t,i[4])},m(t,l){q(t,e,l)},p(t,l){l&16&&j(e,t[4])},d(t){t&&v(e)}}}function on(i){let e;return{c(){e=A(i[3])},l(t){e=U(t,i[3])},m(t,l){q(t,e,l)},p(t,l){l&8&&j(e,t[3])},d(t){t&&v(e)}}}function un(i){let e,t,l,n,r,o,f;function s(h,c){return h[9]===!0?on:rn}let a=s(i),u=a(i);return{c(){e=m("div"),t=m("div"),l=m("input"),n=O(),r=m("div"),u.c(),this.h()},l(h){e=p(h,"DIV",{slot:!0});var c=E(e);t=p(c,"DIV",{});var _=E(t);l=p(_,"INPUT",{type:!0}),n=B(_),r=p(_,"DIV",{class:!0});var b=E(r);u.l(b),b.forEach(v),_.forEach(v),c.forEach(v),this.h()},h(){g(l,"type","checkbox"),l.checked=i[9],g(r,"class","label svelte-17sqzl3"),g(e,"slot","value")},m(h,c){q(h,e,c),d(e,t),d(t,l),i[15](l),d(t,n),d(t,r),u.m(r,null),o||(f=de(l,"change",i[12]),o=!0)},p(h,c){c&512&&(l.checked=h[9]),a===(a=s(h))&&u?u.p(h,c):(u.d(1),u=a(h),u&&(u.c(),u.m(r,null)))},d(h){h&&v(e),i[15](null),u.d(),o=!1,f()}}}function fn(i){let e,t,l,n;function r(s){i[16](s)}function o(s){i[17](s)}let f={label:i[0],id:i[1],override:i[5],overrideMessage:i[2],$$slots:{value:[un],inherit:[an],override:[ln]},$$scope:{ctx:i}};return i[10]!==void 0&&(f.inherit=i[10]),i[7]!==void 0&&(f.getState=i[7]),e=new Bt({props:f}),x.push(()=>ae(e,"inherit",r)),x.push(()=>ae(e,"getState",o)),e.$on("inheritUpdate",i[11]),{c(){we(e.$$.fragment)},l(s){Me(e.$$.fragment,s)},m(s,a){Ee(e,s,a),n=!0},p(s,[a]){const u={};a&1&&(u.label=s[0]),a&2&&(u.id=s[1]),a&32&&(u.override=s[5]),a&4&&(u.overrideMessage=s[2]),a&525176&&(u.$$scope={dirty:a,ctx:s}),!t&&a&1024&&(t=!0,u.inherit=s[10],ve(()=>t=!1)),!l&&a&128&&(l=!0,u.getState=s[7],ve(()=>l=!1)),e.$set(u)},i(s){n||(ne(e.$$.fragment,s),n=!0)},o(s){le(e.$$.fragment,s),n=!1},d(s){Le(e,s)}}}function dn(i,e,t){let{label:l}=e,{id:n}=e,{overrideMessage:r}=e,{onLabel:o}=e,{offLabel:f}=e,{initialState:s}=e,{override:a}=e,{inheritValue:u}=e;const h=Lt();let c,_,b=qt(a,s,u),w=s==="inherit";function T(){return w?"inherit":b}function M(){a==="enabled"&&(t(10,w=c()),h("updateForm",{}))}function k(){t(9,b=_.checked),M()}function V(y){x[y?"unshift":"push"](()=>{_=y,t(8,_)})}function F(y){w=y,t(10,w)}function R(y){c=y,t(7,c)}return i.$$set=y=>{"label"in y&&t(0,l=y.label),"id"in y&&t(1,n=y.id),"overrideMessage"in y&&t(2,r=y.overrideMessage),"onLabel"in y&&t(3,o=y.onLabel),"offLabel"in y&&t(4,f=y.offLabel),"initialState"in y&&t(13,s=y.initialState),"override"in y&&t(5,a=y.override),"inheritValue"in y&&t(6,u=y.inheritValue)},[l,n,r,o,f,a,u,c,_,b,w,M,k,s,T,V,F,R]}class bt extends Ue{constructor(e){super(),We(this,e,dn,fn,Ae,{label:0,id:1,overrideMessage:2,onLabel:3,offLabel:4,initialState:13,override:5,inheritValue:6,getState:14})}get getState(){return this.$$.ctx[14]}}function cn(i){let e,t;return{c(){e=m("div"),t=m("input"),this.h()},l(l){e=p(l,"DIV",{slot:!0});var n=E(e);t=p(n,"INPUT",{type:!0}),n.forEach(v),this.h()},h(){g(t,"type","number"),t.disabled=!0,t.value=i[6],g(e,"slot","override")},m(l,n){q(l,e,n),d(e,t)},p(l,n){n&64&&t.value!==l[6]&&(t.value=l[6])},d(l){l&&v(e)}}}function hn(i){let e,t,l;return{c(){e=m("div"),t=m("div"),l=m("input"),this.h()},l(n){e=p(n,"DIV",{slot:!0});var r=E(e);t=p(r,"DIV",{class:!0});var o=E(t);l=p(o,"INPUT",{type:!0}),o.forEach(v),r.forEach(v),this.h()},h(){g(l,"type","number"),l.disabled=!0,l.value=i[7],g(t,"class","label disabled svelte-17sqzl3"),g(e,"slot","inherit")},m(n,r){q(n,e,r),d(e,t),d(t,l)},p(n,r){r&128&&l.value!==n[7]&&(l.value=n[7])},d(n){n&&v(e)}}}function vn(i){let e,t,l,n,r,o;return{c(){e=m("div"),t=m("div"),l=m("input"),this.h()},l(f){e=p(f,"DIV",{slot:!0});var s=E(e);t=p(s,"DIV",{});var a=E(t);l=p(a,"INPUT",{type:!0,min:!0,max:!0,step:!0}),a.forEach(v),s.forEach(v),this.h()},h(){l.disabled=n=i[6]!=="enabled",l.value=i[10],g(l,"type","number"),g(l,"min",i[3]),g(l,"max",i[4]),g(l,"step",i[5]),g(e,"slot","value")},m(f,s){q(f,e,s),d(e,t),d(t,l),i[16](l),r||(o=de(l,"change",i[13]),r=!0)},p(f,s){s&64&&n!==(n=f[6]!=="enabled")&&(l.disabled=n),s&1024&&l.value!==f[10]&&(l.value=f[10]),s&8&&g(l,"min",f[3]),s&16&&g(l,"max",f[4]),s&32&&g(l,"step",f[5])},d(f){f&&v(e),i[16](null),r=!1,o()}}}function gn(i){let e,t,l,n;function r(s){i[17](s)}function o(s){i[18](s)}let f={label:i[0],id:i[1],override:i[6],overrideMessage:i[2],$$slots:{value:[vn],inherit:[hn],override:[cn]},$$scope:{ctx:i}};return i[11]!==void 0&&(f.inherit=i[11]),i[8]!==void 0&&(f.getState=i[8]),e=new Bt({props:f}),x.push(()=>ae(e,"inherit",r)),x.push(()=>ae(e,"getState",o)),e.$on("inheritUpdate",i[12]),{c(){we(e.$$.fragment)},l(s){Me(e.$$.fragment,s)},m(s,a){Ee(e,s,a),n=!0},p(s,[a]){const u={};a&1&&(u.label=s[0]),a&2&&(u.id=s[1]),a&64&&(u.override=s[6]),a&4&&(u.overrideMessage=s[2]),a&1050360&&(u.$$scope={dirty:a,ctx:s}),!t&&a&2048&&(t=!0,u.inherit=s[11],ve(()=>t=!1)),!l&&a&256&&(l=!0,u.getState=s[8],ve(()=>l=!1)),e.$set(u)},i(s){n||(ne(e.$$.fragment,s),n=!0)},o(s){le(e.$$.fragment,s),n=!1},d(s){Le(e,s)}}}function _n(i,e,t){let{label:l}=e,{id:n}=e,{overrideMessage:r}=e,{initialState:o}=e,{min:f=void 0}=e,{max:s=void 0}=e,{step:a=1}=e,{override:u}=e,{inheritValue:h}=e;const c=Lt();let _,b,w=qt(u,o,h),T=o==="inherit";function M(){return T?"inherit":w}function k(){u==="enabled"&&(t(11,T=_()),c("updateForm",{}))}function V(){t(10,w=parseInt(b.value)),k()}function F(z){x[z?"unshift":"push"](()=>{b=z,t(9,b)})}function R(z){T=z,t(11,T)}function y(z){_=z,t(8,_)}return i.$$set=z=>{"label"in z&&t(0,l=z.label),"id"in z&&t(1,n=z.id),"overrideMessage"in z&&t(2,r=z.overrideMessage),"initialState"in z&&t(14,o=z.initialState),"min"in z&&t(3,f=z.min),"max"in z&&t(4,s=z.max),"step"in z&&t(5,a=z.step),"override"in z&&t(6,u=z.override),"inheritValue"in z&&t(7,h=z.inheritValue)},[l,n,r,f,s,a,u,h,_,b,w,T,k,V,o,M,F,R,y]}class Bi extends Ue{constructor(e){super(),We(this,e,_n,gn,Ae,{label:0,id:1,overrideMessage:2,initialState:14,min:3,max:4,step:5,override:6,inheritValue:7,getState:15})}get getState(){return this.$$.ctx[15]}}function bn(i){let e,t;return{c(){e=m("div"),t=m("input"),this.h()},l(l){e=p(l,"DIV",{slot:!0});var n=E(e);t=p(n,"INPUT",{type:!0}),n.forEach(v),this.h()},h(){g(t,"type","number"),t.disabled=!0,t.value=i[7],g(e,"slot","override")},m(l,n){q(l,e,n),d(e,t)},p(l,n){n&128&&t.value!==l[7]&&(t.value=l[7])},d(l){l&&v(e)}}}function mn(i){let e,t,l;return{c(){e=m("div"),t=m("div"),l=m("input"),this.h()},l(n){e=p(n,"DIV",{slot:!0});var r=E(e);t=p(r,"DIV",{class:!0});var o=E(t);l=p(o,"INPUT",{type:!0}),o.forEach(v),r.forEach(v),this.h()},h(){g(l,"type","number"),l.disabled=!0,l.value=i[8],g(t,"class","label disabled svelte-17sqzl3"),g(e,"slot","inherit")},m(n,r){q(n,e,r),d(e,t),d(t,l)},p(n,r){r&256&&l.value!==n[8]&&(l.value=n[8])},d(n){n&&v(e)}}}function pn(i){let e,t,l,n;return{c(){e=m("input"),this.h()},l(r){e=p(r,"INPUT",{type:!0,min:!0,max:!0,step:!0}),this.h()},h(){e.disabled=t=i[7]!=="enabled",e.value=i[12],g(e,"type","number"),g(e,"min",i[4]),g(e,"max",i[5]),g(e,"step",i[6])},m(r,o){q(r,e,o),i[21](e),l||(n=de(e,"change",i[17]),l=!0)},p(r,o){o&128&&t!==(t=r[7]!=="enabled")&&(e.disabled=t),o&4096&&e.value!==r[12]&&(e.value=r[12]),o&16&&g(e,"min",r[4]),o&32&&g(e,"max",r[5]),o&64&&g(e,"step",r[6])},d(r){r&&v(e),i[21](null),l=!1,n()}}}function Sn(i){let e,t;return{c(){e=m("div"),t=A(i[3]),this.h()},l(l){e=p(l,"DIV",{class:!0});var n=E(e);t=U(n,i[3]),n.forEach(v),this.h()},h(){g(e,"class","label svelte-17sqzl3")},m(l,n){q(l,e,n),d(e,t)},p(l,n){n&8&&j(t,l[3])},d(l){l&&v(e)}}}function kn(i){let e,t,l,n,r,o;function f(u,h){return u[12]===null?Sn:pn}let s=f(i),a=s(i);return{c(){e=m("div"),t=m("div"),l=m("input"),n=O(),a.c(),this.h()},l(u){e=p(u,"DIV",{slot:!0});var h=E(e);t=p(h,"DIV",{});var c=E(t);l=p(c,"INPUT",{type:!0}),n=B(c),a.l(c),c.forEach(v),h.forEach(v),this.h()},h(){g(l,"type","checkbox"),l.checked=i[14],g(e,"slot","value")},m(u,h){q(u,e,h),d(e,t),d(t,l),i[20](l),d(t,n),a.m(t,null),r||(o=de(l,"change",i[16]),r=!0)},p(u,h){s===(s=f(u))&&a?a.p(u,h):(a.d(1),a=s(u),a&&(a.c(),a.m(t,null)))},d(u){u&&v(e),i[20](null),a.d(),r=!1,o()}}}function wn(i){let e,t,l,n;function r(s){i[22](s)}function o(s){i[23](s)}let f={label:i[0],id:i[1],override:i[7],overrideMessage:i[2],$$slots:{value:[kn],inherit:[mn],override:[bn]},$$scope:{ctx:i}};return i[13]!==void 0&&(f.inherit=i[13]),i[9]!==void 0&&(f.getState=i[9]),e=new Bt({props:f}),x.push(()=>ae(e,"inherit",r)),x.push(()=>ae(e,"getState",o)),e.$on("inheritUpdate",i[15]),{c(){we(e.$$.fragment)},l(s){Me(e.$$.fragment,s)},m(s,a){Ee(e,s,a),n=!0},p(s,[a]){const u={};a&1&&(u.label=s[0]),a&2&&(u.id=s[1]),a&128&&(u.override=s[7]),a&4&&(u.overrideMessage=s[2]),a&33562104&&(u.$$scope={dirty:a,ctx:s}),!t&&a&8192&&(t=!0,u.inherit=s[13],ve(()=>t=!1)),!l&&a&512&&(l=!0,u.getState=s[9],ve(()=>l=!1)),e.$set(u)},i(s){n||(ne(e.$$.fragment,s),n=!0)},o(s){le(e.$$.fragment,s),n=!1},d(s){Le(e,s)}}}function En(i,e,t){let{label:l}=e,{id:n}=e,{overrideMessage:r}=e,{initialState:o}=e,{nullLabel:f}=e,{min:s=void 0}=e,{max:a=void 0}=e,{step:u=1}=e,{override:h}=e,{inheritValue:c}=e;const _=Lt();let b,w,T,M=qt(h,o,c),k=o==="inherit",V=M!==null;function F(){return k?"inherit":M}function R(){h==="enabled"&&(t(13,k=b()),_("updateForm",{}))}function y(){T.checked?t(12,M=c):t(12,M=null),R()}function z(){t(12,M=parseInt(w.value)),R()}function W(I){x[I?"unshift":"push"](()=>{T=I,t(11,T)})}function P(I){x[I?"unshift":"push"](()=>{w=I,t(10,w)})}function N(I){k=I,t(13,k)}function H(I){b=I,t(9,b)}return i.$$set=I=>{"label"in I&&t(0,l=I.label),"id"in I&&t(1,n=I.id),"overrideMessage"in I&&t(2,r=I.overrideMessage),"initialState"in I&&t(18,o=I.initialState),"nullLabel"in I&&t(3,f=I.nullLabel),"min"in I&&t(4,s=I.min),"max"in I&&t(5,a=I.max),"step"in I&&t(6,u=I.step),"override"in I&&t(7,h=I.override),"inheritValue"in I&&t(8,c=I.inheritValue)},[l,n,r,f,s,a,u,h,c,b,w,T,M,k,V,R,y,z,o,F,W,P,N,H]}class Ln extends Ue{constructor(e){super(),We(this,e,En,wn,Ae,{label:0,id:1,overrideMessage:2,initialState:18,nullLabel:3,min:4,max:5,step:6,override:7,inheritValue:8,getState:19})}get getState(){return this.$$.ctx[19]}}const{Map:ti}=_l;function qi(i,e,t){const l=i.slice();return l[22]=e[t].key,l[5]=e[t].label,l}function Fi(i,e,t){const l=i.slice();return l[22]=e[t].key,l[5]=e[t].label,l}function Ai(i,e,t){const l=i.slice();return l[22]=e[t].key,l[5]=e[t].label,l}function Ui(i,e){let t,l=e[5]+"",n,r,o;return{key:i,first:null,c(){t=m("option"),n=A(l),this.h()},l(f){t=p(f,"OPTION",{});var s=E(t);n=U(s,l),s.forEach(v),this.h()},h(){t.__value=r=e[22],ge(t,t.__value),t.selected=o=e[10]===e[22],this.first=t},m(f,s){q(f,t,s),d(t,n)},p(f,s){e=f,s&16&&l!==(l=e[5]+"")&&j(n,l),s&16&&r!==(r=e[22])&&(t.__value=r,ge(t,t.__value)),s&1040&&o!==(o=e[10]===e[22])&&(t.selected=o)},d(f){f&&v(t)}}}function Dn(i){let e,t,l,n=[],r=new ti,o=He(i[4]);const f=s=>s[22];for(let s=0;s<o.length;s+=1){let a=qi(i,o,s),u=f(a);r.set(u,n[s]=Ui(u,a))}return{c(){e=m("div"),t=m("div"),l=m("select");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=p(s,"DIV",{slot:!0});var a=E(e);t=p(a,"DIV",{class:!0});var u=E(t);l=p(u,"SELECT",{});var h=E(l);for(let c=0;c<n.length;c+=1)n[c].l(h);h.forEach(v),u.forEach(v),a.forEach(v),this.h()},h(){l.disabled=!0,g(t,"class","label disabled svelte-17sqzl3"),g(e,"slot","override")},m(s,a){q(s,e,a),d(e,t),d(t,l);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(l,null)},p(s,a){a&1040&&(o=He(s[4]),n=ei(n,a,f,1,s,o,r,l,xt,Ui,null,qi))},d(s){s&&v(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Wi(i,e){let t,l=e[5]+"",n,r,o;return{key:i,first:null,c(){t=m("option"),n=A(l),this.h()},l(f){t=p(f,"OPTION",{});var s=E(t);n=U(s,l),s.forEach(v),this.h()},h(){t.__value=r=e[22],ge(t,t.__value),t.selected=o=e[3]===e[22],this.first=t},m(f,s){q(f,t,s),d(t,n)},p(f,s){e=f,s&16&&l!==(l=e[5]+"")&&j(n,l),s&16&&r!==(r=e[22])&&(t.__value=r,ge(t,t.__value)),s&24&&o!==(o=e[3]===e[22])&&(t.selected=o)},d(f){f&&v(t)}}}function In(i){let e,t,l,n=[],r=new ti,o=He(i[4]);const f=s=>s[22];for(let s=0;s<o.length;s+=1){let a=Fi(i,o,s),u=f(a);r.set(u,n[s]=Wi(u,a))}return{c(){e=m("div"),t=m("div"),l=m("select");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=p(s,"DIV",{slot:!0});var a=E(e);t=p(a,"DIV",{class:!0});var u=E(t);l=p(u,"SELECT",{});var h=E(l);for(let c=0;c<n.length;c+=1)n[c].l(h);h.forEach(v),u.forEach(v),a.forEach(v),this.h()},h(){l.disabled=!0,g(t,"class","label disabled svelte-17sqzl3"),g(e,"slot","inherit")},m(s,a){q(s,e,a),d(e,t),d(t,l);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(l,null)},p(s,a){a&24&&(o=He(s[4]),n=ei(n,a,f,1,s,o,r,l,xt,Wi,null,Fi))},d(s){s&&v(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Qi(i,e){let t,l=e[5]+"",n,r,o;return{key:i,first:null,c(){t=m("option"),n=A(l),this.h()},l(f){t=p(f,"OPTION",{});var s=E(t);n=U(s,l),s.forEach(v),this.h()},h(){t.__value=r=e[22],ge(t,t.__value),t.selected=o=e[9]===e[22],this.first=t},m(f,s){q(f,t,s),d(t,n)},p(f,s){e=f,s&16&&l!==(l=e[5]+"")&&j(n,l),s&16&&r!==(r=e[22])&&(t.__value=r,ge(t,t.__value)),s&528&&o!==(o=e[9]===e[22])&&(t.selected=o)},d(f){f&&v(t)}}}function Vn(i){let e,t,l,n,r=[],o=new ti,f,s,a=He(i[4]);const u=h=>h[22];for(let h=0;h<a.length;h+=1){let c=Ai(i,a,h),_=u(c);o.set(_,r[h]=Qi(_,c))}return{c(){e=m("div"),t=m("div"),l=m("div"),n=m("select");for(let h=0;h<r.length;h+=1)r[h].c();this.h()},l(h){e=p(h,"DIV",{slot:!0});var c=E(e);t=p(c,"DIV",{});var _=E(t);l=p(_,"DIV",{class:!0});var b=E(l);n=p(b,"SELECT",{});var w=E(n);for(let T=0;T<r.length;T+=1)r[T].l(w);w.forEach(v),b.forEach(v),_.forEach(v),c.forEach(v),this.h()},h(){g(l,"class","label svelte-17sqzl3"),g(e,"slot","value")},m(h,c){q(h,e,c),d(e,t),d(t,l),d(l,n);for(let _=0;_<r.length;_+=1)r[_]&&r[_].m(n,null);i[15](n),f||(s=de(n,"change",i[12]),f=!0)},p(h,c){c&528&&(a=He(h[4]),r=ei(r,c,u,1,h,a,o,n,xt,Qi,null,Ai))},d(h){h&&v(e);for(let c=0;c<r.length;c+=1)r[c].d();i[15](null),f=!1,s()}}}function Tn(i){let e,t,l,n;function r(s){i[16](s)}function o(s){i[17](s)}let f={label:i[5],id:i[0],override:i[2],overrideMessage:i[1],$$slots:{value:[Vn],inherit:[In],override:[Dn]},$$scope:{ctx:i}};return i[8]!==void 0&&(f.inherit=i[8]),i[6]!==void 0&&(f.getState=i[6]),e=new Bt({props:f}),x.push(()=>ae(e,"inherit",r)),x.push(()=>ae(e,"getState",o)),e.$on("inheritUpdate",i[11]),{c(){we(e.$$.fragment)},l(s){Me(e.$$.fragment,s)},m(s,a){Ee(e,s,a),n=!0},p(s,[a]){const u={};a&32&&(u.label=s[5]),a&1&&(u.id=s[0]),a&4&&(u.override=s[2]),a&2&&(u.overrideMessage=s[1]),a&536872600&&(u.$$scope={dirty:a,ctx:s}),!t&&a&256&&(t=!0,u.inherit=s[8],ve(()=>t=!1)),!l&&a&64&&(l=!0,u.getState=s[6],ve(()=>l=!1)),e.$set(u)},i(s){n||(ne(e.$$.fragment,s),n=!0)},o(s){le(e.$$.fragment,s),n=!1},d(s){Le(e,s)}}}function Cn(i,e,t){let{label:l}=e,{id:n}=e,{overrideMessage:r}=e,{initialState:o}=e,{override:f}=e,{inheritValue:s}=e,{choices:a}=e;const u=new Map(Array.from(a.map(({key:P,value:N})=>[P,N]))),h=new Map(Array.from(a.map(({key:P,value:N})=>[N,P]))),c=Lt();let _,b,w=qt(f,o,u.get(s)??a[0].value),T=o==="inherit",M;o!=="inherit"?M=h.get(o)??a[0].key:o==="inherit"?M=u.has(s)?s:a[0].key:M=a[0].key;let k="";f!=="disabled"&&f!=="enabled"&&(k=h.get(f)??a[0].key);function V(){return T?"inherit":w}function F(){f==="enabled"&&(t(8,T=_()),c("updateForm",{}))}function R(P){let N=u.get(b.value);if(N===void 0){P.preventDefault();return}t(9,M=b.value),w=N,F()}function y(P){x[P?"unshift":"push"](()=>{b=P,t(7,b),t(4,a)})}function z(P){T=P,t(8,T)}function W(P){_=P,t(6,_)}return i.$$set=P=>{"label"in P&&t(5,l=P.label),"id"in P&&t(0,n=P.id),"overrideMessage"in P&&t(1,r=P.overrideMessage),"initialState"in P&&t(13,o=P.initialState),"override"in P&&t(2,f=P.override),"inheritValue"in P&&t(3,s=P.inheritValue),"choices"in P&&t(4,a=P.choices)},[n,r,f,s,a,l,_,b,T,M,k,F,R,o,V,y,z,W]}class Mn extends Ue{constructor(e){super(),We(this,e,Cn,Tn,Ae,{label:5,id:0,overrideMessage:1,initialState:13,override:2,inheritValue:3,choices:4,getState:14})}get getState(){return this.$$.ctx[14]}}function Ri(i){let e,t,l=i[1].lang.lessonConfigClearAdaptive+"",n,r,o;return{c(){e=m("div"),t=m("button"),n=A(l),this.h()},l(f){e=p(f,"DIV",{class:!0});var s=E(e);t=p(s,"BUTTON",{class:!0});var a=E(t);n=U(a,l),a.forEach(v),s.forEach(v),this.h()},h(){g(t,"class","danger"),g(e,"class","clear-adaptive svelte-ucv815")},m(f,s){q(f,e,s),d(e,t),d(t,n),r||(o=de(t,"click",i[8]),r=!0)},p(f,s){s&2&&l!==(l=f[1].lang.lessonConfigClearAdaptive+"")&&j(n,l)},d(f){f&&v(e),r=!1,o()}}}function yn(i){let e,t,l,n,r,o,f,s,a,u,h,c,_,b,w,T,M,k,V,F,R,y,z,W,P,N,H,I,D;function Z(S){i[13](S)}let C={id:"until",label:i[1].lang.configUntil,initialState:i[3].until,nullLabel:i[1].lang.infinite,min:1,step:1,override:i[2].until,inheritValue:i[1].until,overrideMessage:i[4].until};i[5].until!==void 0&&(C.getState=i[5].until),t=new Ln({props:C}),x.push(()=>ae(t,"getState",Z)),t.$on("updateForm",i[7]);function X(S){i[14](S)}let G={id:"checkMode",label:i[1].lang.configCheckMode,choices:i[6],initialState:i[3].checkMode,override:i[2].checkMode,inheritValue:i[6][i[1].checkMode].key,overrideMessage:i[4].checkMode};i[5].checkMode!==void 0&&(G.getState=i[5].checkMode),r=new Mn({props:G}),x.push(()=>ae(r,"getState",X)),r.$on("updateForm",i[7]);function be(S){i[15](S)}let fe={id:"random",label:i[1].lang.configRandom,onLabel:i[1].lang.on,offLabel:i[1].lang.off,initialState:i[3].random,override:i[2].random,inheritValue:i[1].random,overrideMessage:i[4].random};i[5].random!==void 0&&(fe.getState=i[5].random),s=new bt({props:fe}),x.push(()=>ae(s,"getState",be)),s.$on("updateForm",i[7]);function me(S){i[16](S)}let De={id:"backspace",label:i[1].lang.configAcceptBackspace,onLabel:i[1].lang.accept,offLabel:i[1].lang.ignore,initialState:i[3].backspace,override:i[2].backspace,inheritValue:i[1].backspace,overrideMessage:i[4].backspace};i[5].backspace!==void 0&&(De.getState=i[5].backspace),h=new bt({props:De}),x.push(()=>ae(h,"getState",me)),h.$on("updateForm",i[7]);function Pe(S){i[17](S)}let K={id:"adaptive",label:i[1].lang.configAdaptive,onLabel:i[1].lang.on,offLabel:i[1].lang.off,initialState:i[3].adaptive,override:i[2].adaptive,inheritValue:i[1].adaptive,overrideMessage:i[4].adaptive};i[5].adaptive!==void 0&&(K.getState=i[5].adaptive),b=new bt({props:K}),x.push(()=>ae(b,"getState",Pe)),b.$on("updateForm",i[7]);let ee=i[0]&&Ri(i);function Te(S){i[18](S)}let Qe={id:"spaceOptional",label:i[1].lang.configSpaceOptional,onLabel:i[1].lang.yes,offLabel:i[1].lang.no,initialState:i[3].spaceOptional,override:i[2].spaceOptional,inheritValue:i[1].spaceOptional,overrideMessage:i[4].spaceOptional};i[5].spaceOptional!==void 0&&(Qe.getState=i[5].spaceOptional),k=new bt({props:Qe}),x.push(()=>ae(k,"getState",Te)),k.$on("updateForm",i[7]);function Be(S){i[19](S)}let re={id:"caseSensitive",label:i[1].lang.configCaseSensitive,onLabel:i[1].lang.caseSensitive,offLabel:i[1].lang.caseInsensitive,initialState:i[3].caseSensitive,override:i[2].caseSensitive,inheritValue:i[1].caseSensitive,overrideMessage:i[4].caseSensitive};i[5].caseSensitive!==void 0&&(re.getState=i[5].caseSensitive),R=new bt({props:re}),x.push(()=>ae(R,"getState",Be)),R.$on("updateForm",i[7]);function Ke(S){i[20](S)}let ye={id:"minQueue",label:i[1].lang.configMinQueue,initialState:i[3].minQueue,min:1,max:100,override:i[2].minQueue,inheritValue:i[1].minQueue,overrideMessage:i[4].minQueue};i[5].minQueue!==void 0&&(ye.getState=i[5].minQueue),W=new Bi({props:ye}),x.push(()=>ae(W,"getState",Ke)),W.$on("updateForm",i[7]);function Ge(S){i[21](S)}let qe={id:"wordBatchSize",label:i[1].lang.configWordBatchSize,initialState:i[3].wordBatchSize,min:1,max:100,override:i[2].wordBatchSize,inheritValue:i[1].wordBatchSize,overrideMessage:i[4].wordBatchSize};return i[5].wordBatchSize!==void 0&&(qe.getState=i[5].wordBatchSize),H=new Bi({props:qe}),x.push(()=>ae(H,"getState",Ge)),H.$on("updateForm",i[7]),{c(){e=m("div"),we(t.$$.fragment),n=O(),we(r.$$.fragment),f=O(),we(s.$$.fragment),u=O(),we(h.$$.fragment),_=O(),we(b.$$.fragment),T=O(),ee&&ee.c(),M=O(),we(k.$$.fragment),F=O(),we(R.$$.fragment),z=O(),we(W.$$.fragment),N=O(),we(H.$$.fragment),this.h()},l(S){e=p(S,"DIV",{class:!0});var L=E(e);Me(t.$$.fragment,L),n=B(L),Me(r.$$.fragment,L),f=B(L),Me(s.$$.fragment,L),u=B(L),Me(h.$$.fragment,L),_=B(L),Me(b.$$.fragment,L),T=B(L),ee&&ee.l(L),M=B(L),Me(k.$$.fragment,L),F=B(L),Me(R.$$.fragment,L),z=B(L),Me(W.$$.fragment,L),N=B(L),Me(H.$$.fragment,L),L.forEach(v),this.h()},h(){g(e,"class","dialog-grid svelte-ucv815")},m(S,L){q(S,e,L),Ee(t,e,null),d(e,n),Ee(r,e,null),d(e,f),Ee(s,e,null),d(e,u),Ee(h,e,null),d(e,_),Ee(b,e,null),d(e,T),ee&&ee.m(e,null),d(e,M),Ee(k,e,null),d(e,F),Ee(R,e,null),d(e,z),Ee(W,e,null),d(e,N),Ee(H,e,null),D=!0},p(S,[L]){const Se={};L&2&&(Se.label=S[1].lang.configUntil),L&8&&(Se.initialState=S[3].until),L&2&&(Se.nullLabel=S[1].lang.infinite),L&4&&(Se.override=S[2].until),L&2&&(Se.inheritValue=S[1].until),L&16&&(Se.overrideMessage=S[4].until),!l&&L&32&&(l=!0,Se.getState=S[5].until,ve(()=>l=!1)),t.$set(Se);const Ie={};L&2&&(Ie.label=S[1].lang.configCheckMode),L&8&&(Ie.initialState=S[3].checkMode),L&4&&(Ie.override=S[2].checkMode),L&2&&(Ie.inheritValue=S[6][S[1].checkMode].key),L&16&&(Ie.overrideMessage=S[4].checkMode),!o&&L&32&&(o=!0,Ie.getState=S[5].checkMode,ve(()=>o=!1)),r.$set(Ie);const Ve={};L&2&&(Ve.label=S[1].lang.configRandom),L&2&&(Ve.onLabel=S[1].lang.on),L&2&&(Ve.offLabel=S[1].lang.off),L&8&&(Ve.initialState=S[3].random),L&4&&(Ve.override=S[2].random),L&2&&(Ve.inheritValue=S[1].random),L&16&&(Ve.overrideMessage=S[4].random),!a&&L&32&&(a=!0,Ve.getState=S[5].random,ve(()=>a=!1)),s.$set(Ve);const te={};L&2&&(te.label=S[1].lang.configAcceptBackspace),L&2&&(te.onLabel=S[1].lang.accept),L&2&&(te.offLabel=S[1].lang.ignore),L&8&&(te.initialState=S[3].backspace),L&4&&(te.override=S[2].backspace),L&2&&(te.inheritValue=S[1].backspace),L&16&&(te.overrideMessage=S[4].backspace),!c&&L&32&&(c=!0,te.getState=S[5].backspace,ve(()=>c=!1)),h.$set(te);const pe={};L&2&&(pe.label=S[1].lang.configAdaptive),L&2&&(pe.onLabel=S[1].lang.on),L&2&&(pe.offLabel=S[1].lang.off),L&8&&(pe.initialState=S[3].adaptive),L&4&&(pe.override=S[2].adaptive),L&2&&(pe.inheritValue=S[1].adaptive),L&16&&(pe.overrideMessage=S[4].adaptive),!w&&L&32&&(w=!0,pe.getState=S[5].adaptive,ve(()=>w=!1)),b.$set(pe),S[0]?ee?ee.p(S,L):(ee=Ri(S),ee.c(),ee.m(e,M)):ee&&(ee.d(1),ee=null);const he={};L&2&&(he.label=S[1].lang.configSpaceOptional),L&2&&(he.onLabel=S[1].lang.yes),L&2&&(he.offLabel=S[1].lang.no),L&8&&(he.initialState=S[3].spaceOptional),L&4&&(he.override=S[2].spaceOptional),L&2&&(he.inheritValue=S[1].spaceOptional),L&16&&(he.overrideMessage=S[4].spaceOptional),!V&&L&32&&(V=!0,he.getState=S[5].spaceOptional,ve(()=>V=!1)),k.$set(he);const oe={};L&2&&(oe.label=S[1].lang.configCaseSensitive),L&2&&(oe.onLabel=S[1].lang.caseSensitive),L&2&&(oe.offLabel=S[1].lang.caseInsensitive),L&8&&(oe.initialState=S[3].caseSensitive),L&4&&(oe.override=S[2].caseSensitive),L&2&&(oe.inheritValue=S[1].caseSensitive),L&16&&(oe.overrideMessage=S[4].caseSensitive),!y&&L&32&&(y=!0,oe.getState=S[5].caseSensitive,ve(()=>y=!1)),R.$set(oe);const Ce={};L&2&&(Ce.label=S[1].lang.configMinQueue),L&8&&(Ce.initialState=S[3].minQueue),L&4&&(Ce.override=S[2].minQueue),L&2&&(Ce.inheritValue=S[1].minQueue),L&16&&(Ce.overrideMessage=S[4].minQueue),!P&&L&32&&(P=!0,Ce.getState=S[5].minQueue,ve(()=>P=!1)),W.$set(Ce);const ke={};L&2&&(ke.label=S[1].lang.configWordBatchSize),L&8&&(ke.initialState=S[3].wordBatchSize),L&4&&(ke.override=S[2].wordBatchSize),L&2&&(ke.inheritValue=S[1].wordBatchSize),L&16&&(ke.overrideMessage=S[4].wordBatchSize),!I&&L&32&&(I=!0,ke.getState=S[5].wordBatchSize,ve(()=>I=!1)),H.$set(ke)},i(S){D||(ne(t.$$.fragment,S),ne(r.$$.fragment,S),ne(s.$$.fragment,S),ne(h.$$.fragment,S),ne(b.$$.fragment,S),ne(k.$$.fragment,S),ne(R.$$.fragment,S),ne(W.$$.fragment,S),ne(H.$$.fragment,S),D=!0)},o(S){le(t.$$.fragment,S),le(r.$$.fragment,S),le(s.$$.fragment,S),le(h.$$.fragment,S),le(b.$$.fragment,S),le(k.$$.fragment,S),le(R.$$.fragment,S),le(W.$$.fragment,S),le(H.$$.fragment,S),D=!1},d(S){S&&v(e),Le(t),Le(r),Le(s),Le(h),Le(b),ee&&ee.d(),Le(k),Le(R),Le(W),Le(H)}}}function zn(i,e,t){let{config:l}=e,{originalLesson:n}=e,{lessonOptions:r}=e,{adaptiveData:o}=e,{db:f}=e,s=n,a=s.overrides(),u=k(r),h={};M();let c=!1,_=!1;const b=[{key:"chars",label:l.lang.configCheckModeChars,value:Rt.Char},{key:"words",label:l.lang.configCheckModeWords,value:Rt.WordRepeat}];let w={};function T(C){let X=je.listClasses(s).reverse(),G=!0;for(const be of X){if(be.overrides()[C]!=="enabled"){const fe=Ji(be.getType());if(fe===void 0){G=!1;continue}return(G&&fe.classId!==wt?l.lang.incompatibleLesson:l.lang.incompatibleWrapper).replace("%s",fe.name(l.lang))}G=!1}return""}function M(){let C;for(C in Pt)a[C]!=="enabled"&&t(4,h[C]=T(C),h)}function k(C){let X={},G;for(G in Dt)a[G]!=="enabled"&&a[G]!=="disabled"?X[G]=a[G]:a[G]==="disabled"?X[G]="disabled":C[G]!==void 0?X[G]=C[G]:X[G]=Dt[G];return X}async function V(){if(c===!0){_=!0;return}c=!0;let C;for(C in Dt)t(3,u[C]=w[C](),u);s=await jt(n.baseLesson(),l,f,u),t(2,a=s.overrides()),t(3,u),t(4,h),M(),c=!1,_===!0&&(_=!1,V())}async function F(){const C={};let X;for(X in Dt)u[X]==="inherit"?C[X]=void 0:C[X]=u[X];return[await jt(n.baseLesson(),l,f,u),C]}function R(){window.confirm(l.lang.lessonConfigClearAdaptiveConfirm.replace("%s",s.baseLesson().name))&&(vl(f,Ct,s.baseLesson().id),t(0,o=void 0))}function y(C){i.$$.not_equal(w.until,C)&&(w.until=C,t(5,w))}function z(C){i.$$.not_equal(w.checkMode,C)&&(w.checkMode=C,t(5,w))}function W(C){i.$$.not_equal(w.random,C)&&(w.random=C,t(5,w))}function P(C){i.$$.not_equal(w.backspace,C)&&(w.backspace=C,t(5,w))}function N(C){i.$$.not_equal(w.adaptive,C)&&(w.adaptive=C,t(5,w))}function H(C){i.$$.not_equal(w.spaceOptional,C)&&(w.spaceOptional=C,t(5,w))}function I(C){i.$$.not_equal(w.caseSensitive,C)&&(w.caseSensitive=C,t(5,w))}function D(C){i.$$.not_equal(w.minQueue,C)&&(w.minQueue=C,t(5,w))}function Z(C){i.$$.not_equal(w.wordBatchSize,C)&&(w.wordBatchSize=C,t(5,w))}return i.$$set=C=>{"config"in C&&t(1,l=C.config),"originalLesson"in C&&t(9,n=C.originalLesson),"lessonOptions"in C&&t(10,r=C.lessonOptions),"adaptiveData"in C&&t(0,o=C.adaptiveData),"db"in C&&t(11,f=C.db)},[o,l,a,u,h,w,b,V,R,n,r,f,F,y,z,W,P,N,H,I,D,Z]}class Pn extends Ue{constructor(e){super(),We(this,e,zn,yn,Ae,{config:1,originalLesson:9,lessonOptions:10,adaptiveData:0,db:11,getData:12})}get getData(){return this.$$.ctx[12]}}function Nn(i){let e,t,l=i[0].lang.lessonDialogLessonName+"",n,r,o,f,s,a,u,h=i[0].lang.lessonDialogWords+"",c,_,b,w,T;return{c(){e=m("div"),t=m("label"),n=A(l),r=O(),o=m("input"),f=O(),s=m("div"),a=m("div"),u=m("label"),c=A(h),_=O(),b=m("textarea"),this.h()},l(M){e=p(M,"DIV",{class:!0});var k=E(e);t=p(k,"LABEL",{for:!0});var V=E(t);n=U(V,l),V.forEach(v),r=B(k),o=p(k,"INPUT",{id:!0,type:!0}),f=B(k),s=p(k,"DIV",{class:!0});var F=E(s);a=p(F,"DIV",{class:!0});var R=E(a);u=p(R,"LABEL",{for:!0});var y=E(u);c=U(y,h),y.forEach(v),R.forEach(v),_=B(F),b=p(F,"TEXTAREA",{id:!0,class:!0}),E(b).forEach(v),F.forEach(v),k.forEach(v),this.h()},h(){g(t,"for","lessonName"),g(o,"id","lessonName"),o.required=!0,g(o,"type","text"),g(u,"for","lessonWords"),g(a,"class","wordsLabel svelte-9o2vvi"),g(b,"id","lessonWords"),b.required=!0,g(b,"class","svelte-9o2vvi"),g(s,"class","lesson-words svelte-9o2vvi"),g(e,"class","dialog-grid svelte-9o2vvi")},m(M,k){q(M,e,k),d(e,t),d(t,n),d(e,r),d(e,o),i[9](o),ge(o,i[3]),d(e,f),d(e,s),d(s,a),d(a,u),d(u,c),d(s,_),d(s,b),i[11](b),ge(b,i[4]),w||(T=[de(o,"input",i[10]),de(b,"input",i[12]),de(b,"input",i[5])],w=!0)},p(M,[k]){k&1&&l!==(l=M[0].lang.lessonDialogLessonName+"")&&j(n,l),k&8&&o.value!==M[3]&&ge(o,M[3]),k&1&&h!==(h=M[0].lang.lessonDialogWords+"")&&j(c,h),k&16&&ge(b,M[4])},i:ze,o:ze,d(M){M&&v(e),i[9](null),i[11](null),w=!1,zt(T)}}}function On(i,e,t){let{config:l}=e,{lesson:n=null}=e,{db:r}=e,o,f,s=n!==null?n.baseLesson().getType():xe,a="",u="";l.lang.lang;let h=[],c="";if(n!==null&&s===xe){const V=n.baseLesson();h=V.words,c=V.words.join(`
`)+`
`,a=V.id.substring(5),u=V.name,V.lang}function _(){const V=[];return h.forEach(F=>V.push(...F.split(" ").filter(R=>R))),Ot.newStorable("user_"+a,u,V)}function b(V){h=c.split(/\r?\n/).filter(F=>F),Sl(V)}function w(V){x[V?"unshift":"push"](()=>{f=V,t(2,f)})}function T(){u=this.value,t(3,u)}function M(V){x[V?"unshift":"push"](()=>{o=V,t(1,o)})}function k(){c=this.value,t(4,c)}return i.$$set=V=>{"config"in V&&t(0,l=V.config),"lesson"in V&&t(6,n=V.lesson),"db"in V&&t(7,r=V.db)},[l,o,f,u,c,b,n,r,_,w,T,M,k]}class Bn extends Ue{constructor(e){super(),We(this,e,On,Nn,Ae,{config:0,lesson:6,db:7,getData:8})}get getData(){return this.$$.ctx[8]}}function Kn(i,e){const t={title:i.lang.ttsDialogTitle,content:Fl,hasSubmit:!0,config:i,db:e};return dt(t)}function Gn(i,e,t,l){return dt({title:i,content:Zi,hasSubmit:!1,config:e,db:void 0},{stats:l})}function Jn(i,e,t){const l={title:i.lang.statsDialogSaveTitle,content:Zi,hasSubmit:!0,config:i,db:void 0,cancelLabel:i.lang.no,submitLabel:i.lang.yes};return dt(l,{stats:t})}function Xn(i,e,t,l){const n={title:i.lang.statsLogTitle.replace("%s",t),content:Hl,hasSubmit:!1,config:i,db:e,cancelLabel:i.lang.close};return dt(n,{statsLog:l})}function Zn(i,e,t){const l={title:t!==null?i.lang.lessonDialogEditLesson:i.lang.lessonDialogAddLesson,content:Bn,hasSubmit:!0,config:i,db:e,cancelLabel:i.lang.cancel,submitLabel:i.lang.save};return dt(l,{lesson:t})}async function Yn(i,e,t,l,n){const r=await Nt(e,Ct,t.baseLesson().id),o={title:i.lang.lessonConfigDialogTitle,content:Pn,hasSubmit:!0,config:i,db:e,confirmPrompt:n};return dt(o,{originalLesson:t,lessonOptions:l,adaptiveData:r})}function qt(i,e,t){return i!=="enabled"&&i!=="disabled"?i:e==="inherit"?t:e}function dt(i,e){let t=()=>{};const l=new Promise(r=>{t=r}),n=new Cl({target:document.body,props:{closeCallback:t,...i,passProps:e}});return l.finally(()=>{n.$destroy()})}export{wl as C,je as L,Zn as a,Yn as b,Xn as c,xt as d,He as e,Jn as f,_l as g,jn as h,Hn as i,Gn as j,bl as l,Rn as o,Kn as s,ei as u};
